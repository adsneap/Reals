<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>UF-FunExt-Properties</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Background">Martin Escardo, 19th May 2018.

Properties of function extensionality.

</a><a id="73" class="Markup">\begin{code}</a>

<a id="87" class="Symbol">{-#</a> <a id="91" class="Keyword">OPTIONS</a> <a id="99" class="Pragma">--without-K</a> <a id="111" class="Pragma">--exact-split</a> <a id="125" class="Pragma">--safe</a> <a id="132" class="Pragma">--auto-inline</a> <a id="146" class="Symbol">#-}</a>

<a id="151" class="Keyword">module</a> <a id="158" href="UF-FunExt-Properties.html" class="Module">UF-FunExt-Properties</a> <a id="179" class="Keyword">where</a>

<a id="186" class="Keyword">open</a> <a id="191" class="Keyword">import</a> <a id="198" href="SpartanMLTT.html" class="Module">SpartanMLTT</a>
<a id="210" class="Keyword">open</a> <a id="215" class="Keyword">import</a> <a id="222" href="UF-Base.html" class="Module">UF-Base</a>
<a id="230" class="Keyword">open</a> <a id="235" class="Keyword">import</a> <a id="242" href="UF-FunExt.html" class="Module">UF-FunExt</a>
<a id="252" class="Keyword">open</a> <a id="257" class="Keyword">import</a> <a id="264" href="UF-Equiv.html" class="Module">UF-Equiv</a>
<a id="273" class="Keyword">open</a> <a id="278" class="Keyword">import</a> <a id="285" href="UF-Equiv-FunExt.html" class="Module">UF-Equiv-FunExt</a>
<a id="301" class="Keyword">open</a> <a id="306" class="Keyword">import</a> <a id="313" href="UF-Yoneda.html" class="Module">UF-Yoneda</a>
<a id="323" class="Keyword">open</a> <a id="328" class="Keyword">import</a> <a id="335" href="UF-Subsingletons.html" class="Module">UF-Subsingletons</a>
<a id="352" class="Keyword">open</a> <a id="357" class="Keyword">import</a> <a id="364" href="UF-Retracts.html" class="Module">UF-Retracts</a>
<a id="376" class="Keyword">open</a> <a id="381" class="Keyword">import</a> <a id="388" href="UF-EquivalenceExamples.html" class="Module">UF-EquivalenceExamples</a>

<a id="412" class="Markup">\end{code}</a><a id="422" class="Background">

Vladimir Voevodsky proved in Coq that naive function extensionality
(any two pointwise equal non-dependent functions are equal) implies
function extensionality (happly is an equivalence, for dependent
functions):

  https://github.com/vladimirias/Foundations/blob/master/Generalities/uu0.v

Here is an Agda version, with explicit indication of the universe levels.

</a><a id="790" class="Markup">\begin{code}</a>

<a id="naive-funext-gives-funext&#39;"></a><a id="804" href="UF-FunExt-Properties.html#804" class="Function">naive-funext-gives-funext&#39;</a> <a id="831" class="Symbol">:</a> <a id="833" href="UF-FunExt.html#667" class="Function">naive-funext</a> <a id="846" href="Universes.html#274" class="Generalizable">𝓤</a> <a id="848" class="Symbol">(</a><a id="849" href="Universes.html#274" class="Generalizable">𝓤</a> <a id="851" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="853" href="Universes.html#276" class="Generalizable">𝓥</a><a id="854" class="Symbol">)</a> <a id="856" class="Symbol">→</a> <a id="858" href="UF-FunExt.html#667" class="Function">naive-funext</a> <a id="871" href="Universes.html#274" class="Generalizable">𝓤</a> <a id="873" href="Universes.html#274" class="Generalizable">𝓤</a> <a id="875" class="Symbol">→</a> <a id="877" href="UF-FunExt.html#877" class="Function">funext</a> <a id="884" href="Universes.html#274" class="Generalizable">𝓤</a> <a id="886" href="Universes.html#276" class="Generalizable">𝓥</a>
<a id="888" href="UF-FunExt-Properties.html#804" class="Function">naive-funext-gives-funext&#39;</a> <a id="915" class="Symbol">{</a><a id="916" href="UF-FunExt-Properties.html#916" class="Bound">𝓤</a><a id="917" class="Symbol">}</a> <a id="919" class="Symbol">{</a><a id="920" href="UF-FunExt-Properties.html#920" class="Bound">𝓥</a><a id="921" class="Symbol">}</a> <a id="923" href="UF-FunExt-Properties.html#923" class="Bound">nfe</a> <a id="927" href="UF-FunExt-Properties.html#927" class="Bound">nfe&#39;</a> <a id="932" class="Symbol">=</a> <a id="934" href="UF-Yoneda.html#16211" class="Function">funext-via-singletons</a> <a id="956" href="UF-FunExt-Properties.html#967" class="Function">γ</a>
 <a id="959" class="Keyword">where</a>
  <a id="967" href="UF-FunExt-Properties.html#967" class="Function">γ</a> <a id="969" class="Symbol">:</a> <a id="971" class="Symbol">(</a><a id="972" href="UF-FunExt-Properties.html#972" class="Bound">X</a> <a id="974" class="Symbol">:</a> <a id="976" href="UF-FunExt-Properties.html#916" class="Bound">𝓤</a> <a id="978" href="Universes.html#417" class="Function Operator">̇</a> <a id="980" class="Symbol">)</a> <a id="982" class="Symbol">(</a><a id="983" href="UF-FunExt-Properties.html#983" class="Bound">A</a> <a id="985" class="Symbol">:</a> <a id="987" href="UF-FunExt-Properties.html#972" class="Bound">X</a> <a id="989" class="Symbol">→</a> <a id="991" href="UF-FunExt-Properties.html#920" class="Bound">𝓥</a> <a id="993" href="Universes.html#417" class="Function Operator">̇</a> <a id="995" class="Symbol">)</a>
    <a id="1001" class="Symbol">→</a> <a id="1003" class="Symbol">((</a><a id="1005" href="UF-FunExt-Properties.html#1005" class="Bound">x</a> <a id="1007" class="Symbol">:</a> <a id="1009" href="UF-FunExt-Properties.html#972" class="Bound">X</a><a id="1010" class="Symbol">)</a> <a id="1012" class="Symbol">→</a> <a id="1014" href="UF-Subsingletons.html#1485" class="Function">is-singleton</a> <a id="1027" class="Symbol">(</a><a id="1028" href="UF-FunExt-Properties.html#983" class="Bound">A</a> <a id="1030" href="UF-FunExt-Properties.html#1005" class="Bound">x</a><a id="1031" class="Symbol">))</a>
    <a id="1038" class="Symbol">→</a> <a id="1040" href="UF-Subsingletons.html#1485" class="Function">is-singleton</a> <a id="1053" class="Symbol">(</a><a id="1054" href="Pi.html#182" class="Function">Π</a> <a id="1056" href="UF-FunExt-Properties.html#983" class="Bound">A</a><a id="1057" class="Symbol">)</a>
  <a id="1061" href="UF-FunExt-Properties.html#967" class="Function">γ</a> <a id="1063" href="UF-FunExt-Properties.html#1063" class="Bound">X</a> <a id="1065" href="UF-FunExt-Properties.html#1065" class="Bound">A</a> <a id="1067" href="UF-FunExt-Properties.html#1067" class="Bound">φ</a> <a id="1069" class="Symbol">=</a> <a id="1071" href="UF-FunExt-Properties.html#1615" class="Function">δ</a>
   <a id="1076" class="Keyword">where</a>
    <a id="1086" href="UF-FunExt-Properties.html#1086" class="Function">f</a> <a id="1088" class="Symbol">:</a> <a id="1090" href="Sigma-Type.html#134" class="Record">Σ</a> <a id="1092" href="UF-FunExt-Properties.html#1065" class="Bound">A</a> <a id="1094" class="Symbol">→</a> <a id="1096" href="UF-FunExt-Properties.html#1063" class="Bound">X</a>
    <a id="1102" href="UF-FunExt-Properties.html#1086" class="Function">f</a> <a id="1104" class="Symbol">=</a> <a id="1106" href="Sigma-Type.html#217" class="Field">pr₁</a>

    <a id="1115" href="UF-FunExt-Properties.html#1115" class="Function">f-is-equiv</a> <a id="1126" class="Symbol">:</a> <a id="1128" href="UF-Equiv.html#359" class="Function">is-equiv</a> <a id="1137" href="UF-FunExt-Properties.html#1086" class="Function">f</a>
    <a id="1143" href="UF-FunExt-Properties.html#1115" class="Function">f-is-equiv</a> <a id="1154" class="Symbol">=</a> <a id="1156" href="UF-EquivalenceExamples.html#14827" class="Function">pr₁-equivalence</a> <a id="1172" href="UF-FunExt-Properties.html#1063" class="Bound">X</a> <a id="1174" href="UF-FunExt-Properties.html#1065" class="Bound">A</a> <a id="1176" href="UF-FunExt-Properties.html#1067" class="Bound">φ</a>

    <a id="1183" href="UF-FunExt-Properties.html#1183" class="Function">g</a> <a id="1185" class="Symbol">:</a> <a id="1187" class="Symbol">(</a><a id="1188" href="UF-FunExt-Properties.html#1063" class="Bound">X</a> <a id="1190" class="Symbol">→</a> <a id="1192" href="Sigma-Type.html#134" class="Record">Σ</a> <a id="1194" href="UF-FunExt-Properties.html#1065" class="Bound">A</a><a id="1195" class="Symbol">)</a> <a id="1197" class="Symbol">→</a> <a id="1199" class="Symbol">(</a><a id="1200" href="UF-FunExt-Properties.html#1063" class="Bound">X</a> <a id="1202" class="Symbol">→</a> <a id="1204" href="UF-FunExt-Properties.html#1063" class="Bound">X</a><a id="1205" class="Symbol">)</a>
    <a id="1211" href="UF-FunExt-Properties.html#1183" class="Function">g</a> <a id="1213" href="UF-FunExt-Properties.html#1213" class="Bound">h</a> <a id="1215" class="Symbol">=</a> <a id="1217" href="UF-FunExt-Properties.html#1086" class="Function">f</a> <a id="1219" href="Pi.html#531" class="Function Operator">∘</a> <a id="1221" href="UF-FunExt-Properties.html#1213" class="Bound">h</a>

    <a id="1228" href="UF-FunExt-Properties.html#1228" class="Function">g-is-equiv</a> <a id="1239" class="Symbol">:</a> <a id="1241" href="UF-Equiv.html#359" class="Function">is-equiv</a> <a id="1250" href="UF-FunExt-Properties.html#1183" class="Function">g</a>
    <a id="1256" href="UF-FunExt-Properties.html#1228" class="Function">g-is-equiv</a> <a id="1267" class="Symbol">=</a> <a id="1269" href="UF-Equiv-FunExt.html#1756" class="Function">equiv-post</a> <a id="1280" href="UF-FunExt-Properties.html#923" class="Bound">nfe</a> <a id="1284" href="UF-FunExt-Properties.html#927" class="Bound">nfe&#39;</a> <a id="1289" href="UF-FunExt-Properties.html#1086" class="Function">f</a> <a id="1291" href="UF-FunExt-Properties.html#1115" class="Function">f-is-equiv</a>

    <a id="1307" href="UF-FunExt-Properties.html#1307" class="Function">e</a> <a id="1309" class="Symbol">:</a> <a id="1311" href="UF-Subsingletons.html#14842" class="Function">∃!</a> <a id="1314" href="UF-FunExt-Properties.html#1314" class="Bound">h</a> <a id="1316" href="UF-Subsingletons.html#14842" class="Function">꞉</a> <a id="1318" class="Symbol">(</a><a id="1319" href="UF-FunExt-Properties.html#1063" class="Bound">X</a> <a id="1321" class="Symbol">→</a> <a id="1323" href="Sigma-Type.html#134" class="Record">Σ</a> <a id="1325" href="UF-FunExt-Properties.html#1065" class="Bound">A</a><a id="1326" class="Symbol">)</a> <a id="1328" href="UF-Subsingletons.html#14842" class="Function">,</a> <a id="1330" href="UF-FunExt-Properties.html#1086" class="Function">f</a> <a id="1332" href="Pi.html#531" class="Function Operator">∘</a> <a id="1334" href="UF-FunExt-Properties.html#1314" class="Bound">h</a> <a id="1336" href="Identity-Type.html#135" class="Datatype Operator">≡</a> <a id="1338" href="Pi.html#462" class="Function">id</a>
    <a id="1345" href="UF-FunExt-Properties.html#1307" class="Function">e</a> <a id="1347" class="Symbol">=</a> <a id="1349" href="UF-Equiv.html#15626" class="Function">equivs-are-vv-equivs</a> <a id="1370" href="UF-FunExt-Properties.html#1183" class="Function">g</a> <a id="1372" href="UF-FunExt-Properties.html#1228" class="Function">g-is-equiv</a> <a id="1383" href="Pi.html#462" class="Function">id</a>

    <a id="1391" href="UF-FunExt-Properties.html#1391" class="Function">r</a> <a id="1393" class="Symbol">:</a> <a id="1395" class="Symbol">(</a><a id="1396" href="Sigma.html#436" class="Function">Σ</a> <a id="1398" href="UF-FunExt-Properties.html#1398" class="Bound">h</a> <a id="1400" href="Sigma.html#436" class="Function">꞉</a> <a id="1402" class="Symbol">(</a><a id="1403" href="UF-FunExt-Properties.html#1063" class="Bound">X</a> <a id="1405" class="Symbol">→</a> <a id="1407" href="Sigma-Type.html#134" class="Record">Σ</a> <a id="1409" href="UF-FunExt-Properties.html#1065" class="Bound">A</a><a id="1410" class="Symbol">)</a> <a id="1412" href="Sigma.html#436" class="Function">,</a> <a id="1414" href="UF-FunExt-Properties.html#1086" class="Function">f</a> <a id="1416" href="Pi.html#531" class="Function Operator">∘</a> <a id="1418" href="UF-FunExt-Properties.html#1398" class="Bound">h</a> <a id="1420" href="Identity-Type.html#135" class="Datatype Operator">≡</a> <a id="1422" href="Pi.html#462" class="Function">id</a><a id="1424" class="Symbol">)</a> <a id="1426" class="Symbol">→</a> <a id="1428" href="Pi.html#182" class="Function">Π</a> <a id="1430" href="UF-FunExt-Properties.html#1065" class="Bound">A</a>
    <a id="1436" href="UF-FunExt-Properties.html#1391" class="Function">r</a> <a id="1438" class="Symbol">(</a><a id="1439" href="UF-FunExt-Properties.html#1439" class="Bound">h</a> <a id="1441" href="Sigma-Type.html#202" class="InductiveConstructor Operator">,</a> <a id="1443" href="UF-FunExt-Properties.html#1443" class="Bound">p</a><a id="1444" class="Symbol">)</a> <a id="1446" href="UF-FunExt-Properties.html#1446" class="Bound">x</a> <a id="1448" class="Symbol">=</a> <a id="1450" href="Id.html#1075" class="Function">transport</a> <a id="1460" href="UF-FunExt-Properties.html#1065" class="Bound">A</a> <a id="1462" class="Symbol">(</a><a id="1463" href="UF-Base.html#7493" class="Function">happly</a> <a id="1470" href="UF-FunExt-Properties.html#1443" class="Bound">p</a> <a id="1472" href="UF-FunExt-Properties.html#1446" class="Bound">x</a><a id="1473" class="Symbol">)</a> <a id="1475" class="Symbol">(</a><a id="1476" href="Sigma-Type.html#228" class="Field">pr₂</a> <a id="1480" class="Symbol">(</a><a id="1481" href="UF-FunExt-Properties.html#1439" class="Bound">h</a> <a id="1483" href="UF-FunExt-Properties.html#1446" class="Bound">x</a><a id="1484" class="Symbol">))</a>

    <a id="1492" href="UF-FunExt-Properties.html#1492" class="Function">s</a> <a id="1494" class="Symbol">:</a> <a id="1496" href="Pi.html#182" class="Function">Π</a> <a id="1498" href="UF-FunExt-Properties.html#1065" class="Bound">A</a> <a id="1500" class="Symbol">→</a> <a id="1502" class="Symbol">(</a><a id="1503" href="Sigma.html#436" class="Function">Σ</a> <a id="1505" href="UF-FunExt-Properties.html#1505" class="Bound">h</a> <a id="1507" href="Sigma.html#436" class="Function">꞉</a> <a id="1509" class="Symbol">(</a><a id="1510" href="UF-FunExt-Properties.html#1063" class="Bound">X</a> <a id="1512" class="Symbol">→</a> <a id="1514" href="Sigma-Type.html#134" class="Record">Σ</a> <a id="1516" href="UF-FunExt-Properties.html#1065" class="Bound">A</a><a id="1517" class="Symbol">)</a> <a id="1519" href="Sigma.html#436" class="Function">,</a> <a id="1521" href="UF-FunExt-Properties.html#1086" class="Function">f</a> <a id="1523" href="Pi.html#531" class="Function Operator">∘</a> <a id="1525" href="UF-FunExt-Properties.html#1505" class="Bound">h</a> <a id="1527" href="Identity-Type.html#135" class="Datatype Operator">≡</a> <a id="1529" href="Pi.html#462" class="Function">id</a><a id="1531" class="Symbol">)</a>
    <a id="1537" href="UF-FunExt-Properties.html#1492" class="Function">s</a> <a id="1539" href="UF-FunExt-Properties.html#1539" class="Bound">φ</a> <a id="1541" class="Symbol">=</a> <a id="1543" class="Symbol">(λ</a> <a id="1546" href="UF-FunExt-Properties.html#1546" class="Bound">x</a> <a id="1548" class="Symbol">→</a> <a id="1550" href="UF-FunExt-Properties.html#1546" class="Bound">x</a> <a id="1552" href="Sigma-Type.html#202" class="InductiveConstructor Operator">,</a> <a id="1554" href="UF-FunExt-Properties.html#1539" class="Bound">φ</a> <a id="1556" href="UF-FunExt-Properties.html#1546" class="Bound">x</a><a id="1557" class="Symbol">)</a> <a id="1559" href="Sigma-Type.html#202" class="InductiveConstructor Operator">,</a> <a id="1561" href="Identity-Type.html#176" class="InductiveConstructor">refl</a>

    <a id="1571" href="UF-FunExt-Properties.html#1571" class="Function">rs</a> <a id="1574" class="Symbol">:</a> <a id="1576" class="Symbol">∀</a> <a id="1578" href="UF-FunExt-Properties.html#1578" class="Bound">φ</a> <a id="1580" class="Symbol">→</a> <a id="1582" href="UF-FunExt-Properties.html#1391" class="Function">r</a> <a id="1584" class="Symbol">(</a><a id="1585" href="UF-FunExt-Properties.html#1492" class="Function">s</a> <a id="1587" href="UF-FunExt-Properties.html#1578" class="Bound">φ</a><a id="1588" class="Symbol">)</a> <a id="1590" href="Identity-Type.html#135" class="Datatype Operator">≡</a> <a id="1592" href="UF-FunExt-Properties.html#1578" class="Bound">φ</a>
    <a id="1598" href="UF-FunExt-Properties.html#1571" class="Function">rs</a> <a id="1601" href="UF-FunExt-Properties.html#1601" class="Bound">φ</a> <a id="1603" class="Symbol">=</a> <a id="1605" href="Identity-Type.html#176" class="InductiveConstructor">refl</a>

    <a id="1615" href="UF-FunExt-Properties.html#1615" class="Function">δ</a> <a id="1617" class="Symbol">:</a> <a id="1619" href="UF-Subsingletons.html#1485" class="Function">is-singleton</a> <a id="1632" class="Symbol">(</a><a id="1633" href="Pi.html#182" class="Function">Π</a> <a id="1635" href="UF-FunExt-Properties.html#1065" class="Bound">A</a><a id="1636" class="Symbol">)</a>
    <a id="1642" href="UF-FunExt-Properties.html#1615" class="Function">δ</a> <a id="1644" class="Symbol">=</a> <a id="1646" href="UF-Retracts.html#1170" class="Function">retract-of-singleton</a> <a id="1667" class="Symbol">(</a><a id="1668" href="UF-FunExt-Properties.html#1391" class="Function">r</a> <a id="1670" href="Sigma-Type.html#202" class="InductiveConstructor Operator">,</a> <a id="1672" href="UF-FunExt-Properties.html#1492" class="Function">s</a> <a id="1674" href="Sigma-Type.html#202" class="InductiveConstructor Operator">,</a> <a id="1676" href="UF-FunExt-Properties.html#1571" class="Function">rs</a><a id="1678" class="Symbol">)</a> <a id="1680" href="UF-FunExt-Properties.html#1307" class="Function">e</a>

<a id="naive-funext-gives-funext"></a><a id="1683" href="UF-FunExt-Properties.html#1683" class="Function">naive-funext-gives-funext</a> <a id="1709" class="Symbol">:</a> <a id="1711" href="UF-FunExt.html#667" class="Function">naive-funext</a> <a id="1724" href="Universes.html#274" class="Generalizable">𝓤</a> <a id="1726" href="Universes.html#274" class="Generalizable">𝓤</a> <a id="1728" class="Symbol">→</a> <a id="1730" href="UF-FunExt.html#877" class="Function">funext</a> <a id="1737" href="Universes.html#274" class="Generalizable">𝓤</a> <a id="1739" href="Universes.html#274" class="Generalizable">𝓤</a>
<a id="1741" href="UF-FunExt-Properties.html#1683" class="Function">naive-funext-gives-funext</a> <a id="1767" href="UF-FunExt-Properties.html#1767" class="Bound">fe</a> <a id="1770" class="Symbol">=</a> <a id="1772" href="UF-FunExt-Properties.html#804" class="Function">naive-funext-gives-funext&#39;</a> <a id="1799" href="UF-FunExt-Properties.html#1767" class="Bound">fe</a> <a id="1802" href="UF-FunExt-Properties.html#1767" class="Bound">fe</a>

<a id="naive-funext-gives-funext₀"></a><a id="1806" href="UF-FunExt-Properties.html#1806" class="Function">naive-funext-gives-funext₀</a> <a id="1833" class="Symbol">:</a> <a id="1835" href="UF-FunExt.html#667" class="Function">naive-funext</a> <a id="1848" href="Universes.html#274" class="Generalizable">𝓤</a> <a id="1850" href="Universes.html#274" class="Generalizable">𝓤</a> <a id="1852" class="Symbol">→</a> <a id="1854" href="UF-FunExt.html#877" class="Function">funext</a> <a id="1861" href="Universes.html#274" class="Generalizable">𝓤</a> <a id="1863" href="Agda.Primitive.html#764" class="Primitive">𝓤₀</a>
<a id="1866" href="UF-FunExt-Properties.html#1806" class="Function">naive-funext-gives-funext₀</a> <a id="1893" href="UF-FunExt-Properties.html#1893" class="Bound">fe</a> <a id="1896" class="Symbol">=</a> <a id="1898" href="UF-FunExt-Properties.html#804" class="Function">naive-funext-gives-funext&#39;</a> <a id="1925" href="UF-FunExt-Properties.html#1893" class="Bound">fe</a> <a id="1928" href="UF-FunExt-Properties.html#1893" class="Bound">fe</a>

<a id="1932" class="Markup">\end{code}</a><a id="1942" class="Background">
</a></pre></body></html>