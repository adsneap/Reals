<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>UF-KrausLemma</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Background">Nicolai Kraus 2012.

This is adapted to our TypeTopology development by Martin Escardo, but
we keep Nicolai&#39;s original proof.

The main result is that the type of fixed-points of a weakly constant
endomap is a proposition, in pure MLTT without HoTT/UF extensions.

We also add some consequences obtained in joint work with Martin
Escardo, Thierry Coquand, and Thorsten Altenkirch.

</a><a id="383" class="Markup">\begin{code}</a>

<a id="397" class="Symbol">{-#</a> <a id="401" class="Keyword">OPTIONS</a> <a id="409" class="Pragma">--without-K</a> <a id="421" class="Pragma">--exact-split</a> <a id="435" class="Pragma">--safe</a> <a id="442" class="Pragma">--auto-inline</a> <a id="456" class="Symbol">#-}</a>

<a id="461" class="Keyword">module</a> <a id="468" href="UF-KrausLemma.html" class="Module">UF-KrausLemma</a> <a id="482" class="Keyword">where</a>

<a id="489" class="Keyword">open</a> <a id="494" class="Keyword">import</a> <a id="501" href="SpartanMLTT.html" class="Module">SpartanMLTT</a>
<a id="513" class="Keyword">open</a> <a id="518" class="Keyword">import</a> <a id="525" href="UF-Base.html" class="Module">UF-Base</a>
<a id="533" class="Keyword">open</a> <a id="538" class="Keyword">import</a> <a id="545" href="UF-Subsingletons.html" class="Module">UF-Subsingletons</a>

<a id="fix"></a><a id="563" href="UF-KrausLemma.html#563" class="Function">fix</a> <a id="567" class="Symbol">:</a> <a id="569" class="Symbol">{</a><a id="570" href="UF-KrausLemma.html#570" class="Bound">X</a> <a id="572" class="Symbol">:</a> <a id="574" href="Universes.html#274" class="Generalizable">𝓤</a> <a id="576" href="Universes.html#417" class="Function Operator">̇</a> <a id="578" class="Symbol">}</a> <a id="580" class="Symbol">→</a> <a id="582" class="Symbol">(</a><a id="583" href="UF-KrausLemma.html#583" class="Bound">f</a> <a id="585" class="Symbol">:</a> <a id="587" href="UF-KrausLemma.html#570" class="Bound">X</a> <a id="589" class="Symbol">→</a> <a id="591" href="UF-KrausLemma.html#570" class="Bound">X</a><a id="592" class="Symbol">)</a> <a id="594" class="Symbol">→</a> <a id="596" href="Universes.html#274" class="Generalizable">𝓤</a> <a id="598" href="Universes.html#417" class="Function Operator">̇</a>
<a id="600" href="UF-KrausLemma.html#563" class="Function">fix</a> <a id="604" href="UF-KrausLemma.html#604" class="Bound">f</a> <a id="606" class="Symbol">=</a> <a id="608" href="Sigma.html#436" class="Function">Σ</a> <a id="610" href="UF-KrausLemma.html#610" class="Bound">x</a> <a id="612" href="Sigma.html#436" class="Function">꞉</a> <a id="614" href="Pi.html#757" class="Function">domain</a> <a id="621" href="UF-KrausLemma.html#604" class="Bound">f</a> <a id="623" href="Sigma.html#436" class="Function">,</a> <a id="625" href="UF-KrausLemma.html#610" class="Bound">x</a> <a id="627" href="Identity-Type.html#135" class="Datatype Operator">≡</a> <a id="629" href="UF-KrausLemma.html#604" class="Bound">f</a> <a id="631" href="UF-KrausLemma.html#610" class="Bound">x</a>

<a id="key-lemma"></a><a id="634" href="UF-KrausLemma.html#634" class="Function">key-lemma</a> <a id="644" class="Symbol">:</a> <a id="646" class="Symbol">{</a><a id="647" href="UF-KrausLemma.html#647" class="Bound">X</a> <a id="649" href="UF-KrausLemma.html#649" class="Bound">Y</a> <a id="651" class="Symbol">:</a> <a id="653" href="Universes.html#274" class="Generalizable">𝓤</a> <a id="655" href="Universes.html#417" class="Function Operator">̇</a> <a id="657" class="Symbol">}</a> <a id="659" class="Symbol">(</a><a id="660" href="UF-KrausLemma.html#660" class="Bound">f</a> <a id="662" class="Symbol">:</a> <a id="664" href="UF-KrausLemma.html#647" class="Bound">X</a> <a id="666" class="Symbol">→</a> <a id="668" href="UF-KrausLemma.html#649" class="Bound">Y</a><a id="669" class="Symbol">)</a> <a id="671" class="Symbol">(</a><a id="672" href="UF-KrausLemma.html#672" class="Bound">g</a> <a id="674" class="Symbol">:</a> <a id="676" href="UF-Subsingletons.html#3484" class="Function">wconstant</a> <a id="686" href="UF-KrausLemma.html#660" class="Bound">f</a><a id="687" class="Symbol">)</a> <a id="689" class="Symbol">{</a><a id="690" href="UF-KrausLemma.html#690" class="Bound">x</a> <a id="692" href="UF-KrausLemma.html#692" class="Bound">y</a> <a id="694" class="Symbol">:</a> <a id="696" href="UF-KrausLemma.html#647" class="Bound">X</a><a id="697" class="Symbol">}</a> <a id="699" class="Symbol">(</a><a id="700" href="UF-KrausLemma.html#700" class="Bound">p</a> <a id="702" class="Symbol">:</a> <a id="704" href="UF-KrausLemma.html#690" class="Bound">x</a> <a id="706" href="Identity-Type.html#135" class="Datatype Operator">≡</a> <a id="708" href="UF-KrausLemma.html#692" class="Bound">y</a><a id="709" class="Symbol">)</a>
          <a id="721" class="Symbol">→</a> <a id="723" href="Id.html#1344" class="Function">ap</a> <a id="726" href="UF-KrausLemma.html#660" class="Bound">f</a> <a id="728" href="UF-KrausLemma.html#700" class="Bound">p</a> <a id="730" href="Identity-Type.html#135" class="Datatype Operator">≡</a> <a id="732" class="Symbol">(</a><a id="733" href="UF-KrausLemma.html#672" class="Bound">g</a> <a id="735" href="UF-KrausLemma.html#690" class="Bound">x</a> <a id="737" href="UF-KrausLemma.html#690" class="Bound">x</a><a id="738" class="Symbol">)</a><a id="739" href="Id.html#1263" class="Function Operator">⁻¹</a> <a id="742" href="Id.html#1176" class="Function Operator">∙</a> <a id="744" href="UF-KrausLemma.html#672" class="Bound">g</a> <a id="746" href="UF-KrausLemma.html#690" class="Bound">x</a> <a id="748" href="UF-KrausLemma.html#692" class="Bound">y</a>
<a id="750" href="UF-KrausLemma.html#634" class="Function">key-lemma</a> <a id="760" href="UF-KrausLemma.html#760" class="Bound">f</a> <a id="762" href="UF-KrausLemma.html#762" class="Bound">g</a> <a id="764" class="Symbol">{</a><a id="765" href="UF-KrausLemma.html#765" class="Bound">x</a><a id="766" class="Symbol">}</a> <a id="768" href="Identity-Type.html#176" class="InductiveConstructor">refl</a> <a id="773" class="Symbol">=</a> <a id="775" href="UF-Base.html#7578" class="Function">sym-is-inverse</a> <a id="790" class="Symbol">(</a><a id="791" href="UF-KrausLemma.html#762" class="Bound">g</a> <a id="793" href="UF-KrausLemma.html#765" class="Bound">x</a> <a id="795" href="UF-KrausLemma.html#765" class="Bound">x</a><a id="796" class="Symbol">)</a>

<a id="key-insight"></a><a id="799" href="UF-KrausLemma.html#799" class="Function">key-insight</a> <a id="811" class="Symbol">:</a> <a id="813" class="Symbol">{</a><a id="814" href="UF-KrausLemma.html#814" class="Bound">X</a> <a id="816" href="UF-KrausLemma.html#816" class="Bound">Y</a> <a id="818" class="Symbol">:</a> <a id="820" href="Universes.html#274" class="Generalizable">𝓤</a> <a id="822" href="Universes.html#417" class="Function Operator">̇</a> <a id="824" class="Symbol">}</a> <a id="826" class="Symbol">(</a><a id="827" href="UF-KrausLemma.html#827" class="Bound">f</a> <a id="829" class="Symbol">:</a> <a id="831" href="UF-KrausLemma.html#814" class="Bound">X</a> <a id="833" class="Symbol">→</a> <a id="835" href="UF-KrausLemma.html#816" class="Bound">Y</a><a id="836" class="Symbol">)</a>
            <a id="850" class="Symbol">→</a> <a id="852" href="UF-Subsingletons.html#3484" class="Function">wconstant</a> <a id="862" href="UF-KrausLemma.html#827" class="Bound">f</a>
            <a id="876" class="Symbol">→</a> <a id="878" class="Symbol">{</a><a id="879" href="UF-KrausLemma.html#879" class="Bound">x</a> <a id="881" class="Symbol">:</a> <a id="883" href="UF-KrausLemma.html#814" class="Bound">X</a><a id="884" class="Symbol">}</a> <a id="886" class="Symbol">(</a><a id="887" href="UF-KrausLemma.html#887" class="Bound">p</a> <a id="889" class="Symbol">:</a> <a id="891" href="UF-KrausLemma.html#879" class="Bound">x</a> <a id="893" href="Identity-Type.html#135" class="Datatype Operator">≡</a> <a id="895" href="UF-KrausLemma.html#879" class="Bound">x</a><a id="896" class="Symbol">)</a> <a id="898" class="Symbol">→</a> <a id="900" href="Id.html#1344" class="Function">ap</a> <a id="903" href="UF-KrausLemma.html#827" class="Bound">f</a> <a id="905" href="UF-KrausLemma.html#887" class="Bound">p</a> <a id="907" href="Identity-Type.html#135" class="Datatype Operator">≡</a> <a id="909" href="Identity-Type.html#176" class="InductiveConstructor">refl</a>
<a id="914" href="UF-KrausLemma.html#799" class="Function">key-insight</a> <a id="926" href="UF-KrausLemma.html#926" class="Bound">f</a> <a id="928" href="UF-KrausLemma.html#928" class="Bound">g</a> <a id="930" href="UF-KrausLemma.html#930" class="Bound">p</a> <a id="932" class="Symbol">=</a> <a id="934" href="UF-KrausLemma.html#634" class="Function">key-lemma</a> <a id="944" href="UF-KrausLemma.html#926" class="Bound">f</a> <a id="946" href="UF-KrausLemma.html#928" class="Bound">g</a> <a id="948" href="UF-KrausLemma.html#930" class="Bound">p</a> <a id="950" href="Id.html#1176" class="Function Operator">∙</a> <a id="952" class="Symbol">(</a><a id="953" href="UF-Base.html#7578" class="Function">sym-is-inverse</a> <a id="968" class="Symbol">(</a><a id="969" href="UF-KrausLemma.html#928" class="Bound">g</a> <a id="971" class="Symbol">_</a> <a id="973" class="Symbol">_))</a><a id="976" href="Id.html#1263" class="Function Operator">⁻¹</a>

<a id="transport-ids-along-ids"></a><a id="980" href="UF-KrausLemma.html#980" class="Function">transport-ids-along-ids</a> <a id="1004" class="Symbol">:</a> <a id="1006" class="Symbol">{</a><a id="1007" href="UF-KrausLemma.html#1007" class="Bound">X</a> <a id="1009" href="UF-KrausLemma.html#1009" class="Bound">Y</a> <a id="1011" class="Symbol">:</a> <a id="1013" href="Universes.html#274" class="Generalizable">𝓤</a> <a id="1015" href="Universes.html#417" class="Function Operator">̇</a> <a id="1017" class="Symbol">}</a>
                          <a id="1045" class="Symbol">{</a><a id="1046" href="UF-KrausLemma.html#1046" class="Bound">x</a> <a id="1048" href="UF-KrausLemma.html#1048" class="Bound">y</a> <a id="1050" class="Symbol">:</a> <a id="1052" href="UF-KrausLemma.html#1007" class="Bound">X</a><a id="1053" class="Symbol">}</a>
                          <a id="1081" class="Symbol">(</a><a id="1082" href="UF-KrausLemma.html#1082" class="Bound">p</a> <a id="1084" class="Symbol">:</a> <a id="1086" href="UF-KrausLemma.html#1046" class="Bound">x</a> <a id="1088" href="Identity-Type.html#135" class="Datatype Operator">≡</a> <a id="1090" href="UF-KrausLemma.html#1048" class="Bound">y</a><a id="1091" class="Symbol">)</a>
                          <a id="1119" class="Symbol">(</a><a id="1120" href="UF-KrausLemma.html#1120" class="Bound">h</a> <a id="1122" href="UF-KrausLemma.html#1122" class="Bound">k</a> <a id="1124" class="Symbol">:</a> <a id="1126" href="UF-KrausLemma.html#1007" class="Bound">X</a> <a id="1128" class="Symbol">→</a> <a id="1130" href="UF-KrausLemma.html#1009" class="Bound">Y</a><a id="1131" class="Symbol">)</a>
                          <a id="1159" class="Symbol">(</a><a id="1160" href="UF-KrausLemma.html#1160" class="Bound">q</a> <a id="1162" class="Symbol">:</a> <a id="1164" href="UF-KrausLemma.html#1120" class="Bound">h</a> <a id="1166" href="UF-KrausLemma.html#1046" class="Bound">x</a> <a id="1168" href="Identity-Type.html#135" class="Datatype Operator">≡</a> <a id="1170" href="UF-KrausLemma.html#1122" class="Bound">k</a> <a id="1172" href="UF-KrausLemma.html#1046" class="Bound">x</a><a id="1173" class="Symbol">)</a>
                        <a id="1199" class="Symbol">→</a> <a id="1201" href="Id.html#1075" class="Function">transport</a> <a id="1211" class="Symbol">(λ</a> <a id="1214" href="UF-KrausLemma.html#1214" class="Bound">-</a> <a id="1216" class="Symbol">→</a> <a id="1218" href="UF-KrausLemma.html#1120" class="Bound">h</a> <a id="1220" href="UF-KrausLemma.html#1214" class="Bound">-</a> <a id="1222" href="Identity-Type.html#135" class="Datatype Operator">≡</a> <a id="1224" href="UF-KrausLemma.html#1122" class="Bound">k</a> <a id="1226" href="UF-KrausLemma.html#1214" class="Bound">-</a><a id="1227" class="Symbol">)</a> <a id="1229" href="UF-KrausLemma.html#1082" class="Bound">p</a> <a id="1231" href="UF-KrausLemma.html#1160" class="Bound">q</a> <a id="1233" href="Identity-Type.html#135" class="Datatype Operator">≡</a> <a id="1235" class="Symbol">(</a><a id="1236" href="Id.html#1344" class="Function">ap</a> <a id="1239" href="UF-KrausLemma.html#1120" class="Bound">h</a> <a id="1241" href="UF-KrausLemma.html#1082" class="Bound">p</a><a id="1242" class="Symbol">)</a><a id="1243" href="Id.html#1263" class="Function Operator">⁻¹</a> <a id="1246" href="Id.html#1176" class="Function Operator">∙</a> <a id="1248" href="UF-KrausLemma.html#1160" class="Bound">q</a> <a id="1250" href="Id.html#1176" class="Function Operator">∙</a> <a id="1252" href="Id.html#1344" class="Function">ap</a> <a id="1255" href="UF-KrausLemma.html#1122" class="Bound">k</a> <a id="1257" href="UF-KrausLemma.html#1082" class="Bound">p</a>
<a id="1259" href="UF-KrausLemma.html#980" class="Function">transport-ids-along-ids</a> <a id="1283" href="Identity-Type.html#176" class="InductiveConstructor">refl</a> <a id="1288" href="UF-KrausLemma.html#1288" class="Bound">h</a> <a id="1290" href="UF-KrausLemma.html#1290" class="Bound">k</a> <a id="1292" href="UF-KrausLemma.html#1292" class="Bound">q</a> <a id="1294" class="Symbol">=</a> <a id="1296" href="UF-Base.html#7043" class="Function">refl-left-neutral</a> <a id="1314" href="Id.html#1263" class="Function Operator">⁻¹</a>

<a id="transport-ids-along-ids&#39;"></a><a id="1318" href="UF-KrausLemma.html#1318" class="Function">transport-ids-along-ids&#39;</a> <a id="1343" class="Symbol">:</a> <a id="1345" class="Symbol">{</a><a id="1346" href="UF-KrausLemma.html#1346" class="Bound">X</a> <a id="1348" class="Symbol">:</a> <a id="1350" href="Universes.html#274" class="Generalizable">𝓤</a> <a id="1352" href="Universes.html#417" class="Function Operator">̇</a> <a id="1354" class="Symbol">}</a>
                           <a id="1383" class="Symbol">{</a><a id="1384" href="UF-KrausLemma.html#1384" class="Bound">x</a> <a id="1386" class="Symbol">:</a> <a id="1388" href="UF-KrausLemma.html#1346" class="Bound">X</a><a id="1389" class="Symbol">}</a>
                           <a id="1418" class="Symbol">(</a><a id="1419" href="UF-KrausLemma.html#1419" class="Bound">p</a> <a id="1421" class="Symbol">:</a> <a id="1423" href="UF-KrausLemma.html#1384" class="Bound">x</a> <a id="1425" href="Identity-Type.html#135" class="Datatype Operator">≡</a> <a id="1427" href="UF-KrausLemma.html#1384" class="Bound">x</a><a id="1428" class="Symbol">)</a>
                           <a id="1457" class="Symbol">(</a><a id="1458" href="UF-KrausLemma.html#1458" class="Bound">f</a> <a id="1460" class="Symbol">:</a> <a id="1462" href="UF-KrausLemma.html#1346" class="Bound">X</a> <a id="1464" class="Symbol">→</a> <a id="1466" href="UF-KrausLemma.html#1346" class="Bound">X</a><a id="1467" class="Symbol">)</a>
                           <a id="1496" class="Symbol">(</a><a id="1497" href="UF-KrausLemma.html#1497" class="Bound">q</a> <a id="1499" class="Symbol">:</a> <a id="1501" href="UF-KrausLemma.html#1384" class="Bound">x</a> <a id="1503" href="Identity-Type.html#135" class="Datatype Operator">≡</a> <a id="1505" href="UF-KrausLemma.html#1458" class="Bound">f</a> <a id="1507" href="UF-KrausLemma.html#1384" class="Bound">x</a><a id="1508" class="Symbol">)</a>
                         <a id="1535" class="Symbol">→</a> <a id="1537" href="Id.html#1075" class="Function">transport</a> <a id="1547" class="Symbol">(λ</a> <a id="1550" href="UF-KrausLemma.html#1550" class="Bound">-</a> <a id="1552" class="Symbol">→</a> <a id="1554" href="UF-KrausLemma.html#1550" class="Bound">-</a> <a id="1556" href="Identity-Type.html#135" class="Datatype Operator">≡</a> <a id="1558" href="UF-KrausLemma.html#1458" class="Bound">f</a> <a id="1560" href="UF-KrausLemma.html#1550" class="Bound">-</a><a id="1561" class="Symbol">)</a> <a id="1563" href="UF-KrausLemma.html#1419" class="Bound">p</a> <a id="1565" href="UF-KrausLemma.html#1497" class="Bound">q</a> <a id="1567" href="Identity-Type.html#135" class="Datatype Operator">≡</a> <a id="1569" class="Symbol">(</a><a id="1570" href="UF-KrausLemma.html#1419" class="Bound">p</a> <a id="1572" href="Id.html#1263" class="Function Operator">⁻¹</a> <a id="1575" href="Id.html#1176" class="Function Operator">∙</a> <a id="1577" href="UF-KrausLemma.html#1497" class="Bound">q</a><a id="1578" class="Symbol">)</a> <a id="1580" href="Id.html#1176" class="Function Operator">∙</a> <a id="1582" href="Id.html#1344" class="Function">ap</a> <a id="1585" href="UF-KrausLemma.html#1458" class="Bound">f</a> <a id="1587" href="UF-KrausLemma.html#1419" class="Bound">p</a>
<a id="1589" href="UF-KrausLemma.html#1318" class="Function">transport-ids-along-ids&#39;</a> <a id="1614" class="Symbol">{</a><a id="1615" href="UF-KrausLemma.html#1615" class="Bound">𝓤</a><a id="1616" class="Symbol">}</a> <a id="1618" class="Symbol">{</a><a id="1619" href="UF-KrausLemma.html#1619" class="Bound">X</a><a id="1620" class="Symbol">}</a> <a id="1622" class="Symbol">{</a><a id="1623" href="UF-KrausLemma.html#1623" class="Bound">x</a><a id="1624" class="Symbol">}</a> <a id="1626" href="UF-KrausLemma.html#1626" class="Bound">p</a> <a id="1628" href="UF-KrausLemma.html#1628" class="Bound">f</a> <a id="1630" href="UF-KrausLemma.html#1630" class="Bound">q</a> <a id="1632" class="Symbol">=</a> <a id="1634" href="UF-KrausLemma.html#1696" class="Function">γ</a>
 <a id="1637" class="Keyword">where</a>
  <a id="1645" href="UF-KrausLemma.html#1645" class="Function">g</a> <a id="1647" class="Symbol">:</a> <a id="1649" href="UF-KrausLemma.html#1623" class="Bound">x</a> <a id="1651" href="Identity-Type.html#135" class="Datatype Operator">≡</a> <a id="1653" href="UF-KrausLemma.html#1623" class="Bound">x</a> <a id="1655" class="Symbol">→</a> <a id="1657" href="UF-KrausLemma.html#1623" class="Bound">x</a> <a id="1659" href="Identity-Type.html#135" class="Datatype Operator">≡</a> <a id="1661" href="UF-KrausLemma.html#1628" class="Bound">f</a> <a id="1663" href="UF-KrausLemma.html#1623" class="Bound">x</a>
  <a id="1667" href="UF-KrausLemma.html#1645" class="Function">g</a> <a id="1669" href="UF-KrausLemma.html#1669" class="Bound">r</a> <a id="1671" class="Symbol">=</a> <a id="1673" href="UF-KrausLemma.html#1669" class="Bound">r</a> <a id="1675" href="Id.html#1263" class="Function Operator">⁻¹</a> <a id="1678" href="Id.html#1176" class="Function Operator">∙</a> <a id="1680" href="UF-KrausLemma.html#1630" class="Bound">q</a> <a id="1682" href="Id.html#1176" class="Function Operator">∙</a> <a id="1684" class="Symbol">(</a><a id="1685" href="Id.html#1344" class="Function">ap</a> <a id="1688" href="UF-KrausLemma.html#1628" class="Bound">f</a> <a id="1690" href="UF-KrausLemma.html#1626" class="Bound">p</a><a id="1691" class="Symbol">)</a>

  <a id="1696" href="UF-KrausLemma.html#1696" class="Function">γ</a> <a id="1698" class="Symbol">:</a> <a id="1700" href="Id.html#1075" class="Function">transport</a> <a id="1710" class="Symbol">(λ</a> <a id="1713" href="UF-KrausLemma.html#1713" class="Bound">-</a> <a id="1715" class="Symbol">→</a> <a id="1717" href="UF-KrausLemma.html#1713" class="Bound">-</a> <a id="1719" href="Identity-Type.html#135" class="Datatype Operator">≡</a> <a id="1721" href="UF-KrausLemma.html#1628" class="Bound">f</a> <a id="1723" href="UF-KrausLemma.html#1713" class="Bound">-</a><a id="1724" class="Symbol">)</a> <a id="1726" href="UF-KrausLemma.html#1626" class="Bound">p</a> <a id="1728" href="UF-KrausLemma.html#1630" class="Bound">q</a> <a id="1730" href="Identity-Type.html#135" class="Datatype Operator">≡</a> <a id="1732" href="UF-KrausLemma.html#1626" class="Bound">p</a> <a id="1734" href="Id.html#1263" class="Function Operator">⁻¹</a> <a id="1737" href="Id.html#1176" class="Function Operator">∙</a> <a id="1739" href="UF-KrausLemma.html#1630" class="Bound">q</a> <a id="1741" href="Id.html#1176" class="Function Operator">∙</a> <a id="1743" href="Id.html#1344" class="Function">ap</a> <a id="1746" href="UF-KrausLemma.html#1628" class="Bound">f</a> <a id="1748" href="UF-KrausLemma.html#1626" class="Bound">p</a>
  <a id="1752" href="UF-KrausLemma.html#1696" class="Function">γ</a> <a id="1754" class="Symbol">=</a> <a id="1756" href="UF-KrausLemma.html#980" class="Function">transport-ids-along-ids</a> <a id="1780" href="UF-KrausLemma.html#1626" class="Bound">p</a> <a id="1782" href="Pi.html#462" class="Function">id</a> <a id="1785" href="UF-KrausLemma.html#1628" class="Bound">f</a> <a id="1787" href="UF-KrausLemma.html#1630" class="Bound">q</a> <a id="1789" href="Id.html#1176" class="Function Operator">∙</a> <a id="1791" href="Id.html#1344" class="Function">ap</a> <a id="1794" href="UF-KrausLemma.html#1645" class="Function">g</a> <a id="1796" class="Symbol">((</a><a id="1798" href="UF-Base.html#6156" class="Function">ap-id-is-id&#39;</a> <a id="1811" href="UF-KrausLemma.html#1626" class="Bound">p</a><a id="1812" class="Symbol">)</a><a id="1813" href="Id.html#1263" class="Function Operator">⁻¹</a><a id="1815" class="Symbol">)</a>

<a id="1818" class="Markup">\end{code}</a><a id="1828" class="Background">

The following is what we refer to as Kraus Lemma:

</a><a id="1881" class="Markup">\begin{code}</a>

<a id="fix-is-prop"></a><a id="1895" href="UF-KrausLemma.html#1895" class="Function">fix-is-prop</a> <a id="1907" class="Symbol">:</a> <a id="1909" class="Symbol">{</a><a id="1910" href="UF-KrausLemma.html#1910" class="Bound">X</a> <a id="1912" class="Symbol">:</a> <a id="1914" href="Universes.html#274" class="Generalizable">𝓤</a> <a id="1916" href="Universes.html#417" class="Function Operator">̇</a> <a id="1918" class="Symbol">}</a> <a id="1920" class="Symbol">→</a> <a id="1922" class="Symbol">(</a><a id="1923" href="UF-KrausLemma.html#1923" class="Bound">f</a> <a id="1925" class="Symbol">:</a> <a id="1927" href="UF-KrausLemma.html#1910" class="Bound">X</a> <a id="1929" class="Symbol">→</a> <a id="1931" href="UF-KrausLemma.html#1910" class="Bound">X</a><a id="1932" class="Symbol">)</a> <a id="1934" class="Symbol">→</a> <a id="1936" href="UF-Subsingletons.html#3484" class="Function">wconstant</a> <a id="1946" href="UF-KrausLemma.html#1923" class="Bound">f</a> <a id="1948" class="Symbol">→</a> <a id="1950" href="UF-Subsingletons.html#487" class="Function">is-prop</a> <a id="1958" class="Symbol">(</a><a id="1959" href="UF-KrausLemma.html#563" class="Function">fix</a> <a id="1963" href="UF-KrausLemma.html#1923" class="Bound">f</a><a id="1964" class="Symbol">)</a>
<a id="1966" href="UF-KrausLemma.html#1895" class="Function">fix-is-prop</a> <a id="1978" class="Symbol">{</a><a id="1979" href="UF-KrausLemma.html#1979" class="Bound">𝓤</a><a id="1980" class="Symbol">}</a> <a id="1982" class="Symbol">{</a><a id="1983" href="UF-KrausLemma.html#1983" class="Bound">X</a><a id="1984" class="Symbol">}</a> <a id="1986" href="UF-KrausLemma.html#1986" class="Bound">f</a> <a id="1988" href="UF-KrausLemma.html#1988" class="Bound">g</a> <a id="1990" class="Symbol">(</a><a id="1991" href="UF-KrausLemma.html#1991" class="Bound">x</a> <a id="1993" href="Sigma-Type.html#202" class="InductiveConstructor Operator">,</a> <a id="1995" href="UF-KrausLemma.html#1995" class="Bound">p</a><a id="1996" class="Symbol">)</a> <a id="1998" class="Symbol">(</a><a id="1999" href="UF-KrausLemma.html#1999" class="Bound">y</a> <a id="2001" href="Sigma-Type.html#202" class="InductiveConstructor Operator">,</a> <a id="2003" href="UF-KrausLemma.html#2003" class="Bound">q</a><a id="2004" class="Symbol">)</a> <a id="2006" class="Symbol">=</a>
  <a id="2010" class="Symbol">(</a><a id="2011" href="UF-KrausLemma.html#1991" class="Bound">x</a> <a id="2013" href="Sigma-Type.html#202" class="InductiveConstructor Operator">,</a> <a id="2015" href="UF-KrausLemma.html#1995" class="Bound">p</a><a id="2016" class="Symbol">)</a>  <a id="2019" href="Id.html#1757" class="Function Operator">≡⟨</a> <a id="2022" href="UF-Base.html#11025" class="Function">to-Σ-≡</a> <a id="2029" class="Symbol">(</a><a id="2030" href="UF-KrausLemma.html#2101" class="Function">r</a> <a id="2032" href="Sigma-Type.html#202" class="InductiveConstructor Operator">,</a> <a id="2034" href="Identity-Type.html#176" class="InductiveConstructor">refl</a><a id="2038" class="Symbol">)</a> <a id="2040" href="Id.html#1757" class="Function Operator">⟩</a>
  <a id="2044" class="Symbol">(</a><a id="2045" href="UF-KrausLemma.html#1999" class="Bound">y</a> <a id="2047" href="Sigma-Type.html#202" class="InductiveConstructor Operator">,</a> <a id="2049" href="UF-KrausLemma.html#2199" class="Function">p&#39;</a><a id="2051" class="Symbol">)</a> <a id="2053" href="Id.html#1757" class="Function Operator">≡⟨</a> <a id="2056" href="UF-Base.html#11025" class="Function">to-Σ-≡</a> <a id="2063" class="Symbol">(</a><a id="2064" href="UF-KrausLemma.html#2258" class="Function">s</a> <a id="2066" href="Sigma-Type.html#202" class="InductiveConstructor Operator">,</a> <a id="2068" href="UF-KrausLemma.html#2393" class="Function">t</a><a id="2069" class="Symbol">)</a> <a id="2071" href="Id.html#1757" class="Function Operator">⟩</a>
  <a id="2075" class="Symbol">(</a><a id="2076" href="UF-KrausLemma.html#1999" class="Bound">y</a> <a id="2078" href="Sigma-Type.html#202" class="InductiveConstructor Operator">,</a> <a id="2080" href="UF-KrausLemma.html#2003" class="Bound">q</a><a id="2081" class="Symbol">)</a>  <a id="2084" href="Id.html#1839" class="Function Operator">∎</a>
    <a id="2090" class="Keyword">where</a>
     <a id="2101" href="UF-KrausLemma.html#2101" class="Function">r</a> <a id="2103" class="Symbol">:</a> <a id="2105" href="UF-KrausLemma.html#1991" class="Bound">x</a> <a id="2107" href="Identity-Type.html#135" class="Datatype Operator">≡</a> <a id="2109" href="UF-KrausLemma.html#1999" class="Bound">y</a>
     <a id="2116" href="UF-KrausLemma.html#2101" class="Function">r</a> <a id="2118" class="Symbol">=</a> <a id="2120" href="UF-KrausLemma.html#1991" class="Bound">x</a>   <a id="2124" href="Id.html#1757" class="Function Operator">≡⟨</a> <a id="2127" href="UF-KrausLemma.html#1995" class="Bound">p</a> <a id="2129" href="Id.html#1757" class="Function Operator">⟩</a>
         <a id="2140" href="UF-KrausLemma.html#1986" class="Bound">f</a> <a id="2142" href="UF-KrausLemma.html#1991" class="Bound">x</a> <a id="2144" href="Id.html#1757" class="Function Operator">≡⟨</a> <a id="2147" href="UF-KrausLemma.html#1988" class="Bound">g</a> <a id="2149" href="UF-KrausLemma.html#1991" class="Bound">x</a> <a id="2151" href="UF-KrausLemma.html#1999" class="Bound">y</a> <a id="2153" href="Id.html#1757" class="Function Operator">⟩</a>
         <a id="2164" href="UF-KrausLemma.html#1986" class="Bound">f</a> <a id="2166" href="UF-KrausLemma.html#1999" class="Bound">y</a> <a id="2168" href="Id.html#1757" class="Function Operator">≡⟨</a> <a id="2171" href="UF-KrausLemma.html#2003" class="Bound">q</a> <a id="2173" href="Id.html#1263" class="Function Operator">⁻¹</a> <a id="2176" href="Id.html#1757" class="Function Operator">⟩</a>
           <a id="2189" href="UF-KrausLemma.html#1999" class="Bound">y</a> <a id="2191" href="Id.html#1839" class="Function Operator">∎</a>

     <a id="2199" href="UF-KrausLemma.html#2199" class="Function">p&#39;</a> <a id="2202" class="Symbol">:</a> <a id="2204" href="UF-KrausLemma.html#1999" class="Bound">y</a> <a id="2206" href="Identity-Type.html#135" class="Datatype Operator">≡</a> <a id="2208" href="UF-KrausLemma.html#1986" class="Bound">f</a> <a id="2210" href="UF-KrausLemma.html#1999" class="Bound">y</a>
     <a id="2217" href="UF-KrausLemma.html#2199" class="Function">p&#39;</a> <a id="2220" class="Symbol">=</a> <a id="2222" href="Id.html#1075" class="Function">transport</a> <a id="2232" class="Symbol">(λ</a> <a id="2235" href="UF-KrausLemma.html#2235" class="Bound">-</a> <a id="2237" class="Symbol">→</a> <a id="2239" href="UF-KrausLemma.html#2235" class="Bound">-</a> <a id="2241" href="Identity-Type.html#135" class="Datatype Operator">≡</a> <a id="2243" href="UF-KrausLemma.html#1986" class="Bound">f</a> <a id="2245" href="UF-KrausLemma.html#2235" class="Bound">-</a><a id="2246" class="Symbol">)</a> <a id="2248" href="UF-KrausLemma.html#2101" class="Function">r</a> <a id="2250" href="UF-KrausLemma.html#1995" class="Bound">p</a>

     <a id="2258" href="UF-KrausLemma.html#2258" class="Function">s</a> <a id="2260" class="Symbol">:</a> <a id="2262" href="UF-KrausLemma.html#1999" class="Bound">y</a> <a id="2264" href="Identity-Type.html#135" class="Datatype Operator">≡</a> <a id="2266" href="UF-KrausLemma.html#1999" class="Bound">y</a>
     <a id="2273" href="UF-KrausLemma.html#2258" class="Function">s</a> <a id="2275" class="Symbol">=</a> <a id="2277" href="UF-KrausLemma.html#1999" class="Bound">y</a>   <a id="2281" href="Id.html#1757" class="Function Operator">≡⟨</a> <a id="2284" href="UF-KrausLemma.html#2199" class="Function">p&#39;</a> <a id="2287" href="Id.html#1757" class="Function Operator">⟩</a>
         <a id="2298" href="UF-KrausLemma.html#1986" class="Bound">f</a> <a id="2300" href="UF-KrausLemma.html#1999" class="Bound">y</a> <a id="2302" href="Id.html#1757" class="Function Operator">≡⟨</a> <a id="2305" href="UF-KrausLemma.html#2003" class="Bound">q</a> <a id="2307" href="Id.html#1263" class="Function Operator">⁻¹</a> <a id="2310" href="Id.html#1757" class="Function Operator">⟩</a>
         <a id="2321" href="UF-KrausLemma.html#1999" class="Bound">y</a>   <a id="2325" href="Id.html#1839" class="Function Operator">∎</a>

     <a id="2333" href="UF-KrausLemma.html#2333" class="Function">q&#39;</a> <a id="2336" class="Symbol">:</a> <a id="2338" href="UF-KrausLemma.html#1999" class="Bound">y</a> <a id="2340" href="Identity-Type.html#135" class="Datatype Operator">≡</a> <a id="2342" href="UF-KrausLemma.html#1986" class="Bound">f</a> <a id="2344" href="UF-KrausLemma.html#1999" class="Bound">y</a>
     <a id="2351" href="UF-KrausLemma.html#2333" class="Function">q&#39;</a> <a id="2354" class="Symbol">=</a> <a id="2356" href="Id.html#1075" class="Function">transport</a> <a id="2366" class="Symbol">(λ</a> <a id="2369" href="UF-KrausLemma.html#2369" class="Bound">-</a> <a id="2371" class="Symbol">→</a> <a id="2373" href="UF-KrausLemma.html#2369" class="Bound">-</a> <a id="2375" href="Identity-Type.html#135" class="Datatype Operator">≡</a> <a id="2377" href="UF-KrausLemma.html#1986" class="Bound">f</a> <a id="2379" href="UF-KrausLemma.html#2369" class="Bound">-</a><a id="2380" class="Symbol">)</a> <a id="2382" href="UF-KrausLemma.html#2258" class="Function">s</a> <a id="2384" href="UF-KrausLemma.html#2199" class="Function">p&#39;</a>

     <a id="2393" href="UF-KrausLemma.html#2393" class="Function">t</a> <a id="2395" class="Symbol">:</a> <a id="2397" href="UF-KrausLemma.html#2333" class="Function">q&#39;</a> <a id="2400" href="Identity-Type.html#135" class="Datatype Operator">≡</a> <a id="2402" href="UF-KrausLemma.html#2003" class="Bound">q</a>
     <a id="2409" href="UF-KrausLemma.html#2393" class="Function">t</a> <a id="2411" class="Symbol">=</a> <a id="2413" href="UF-KrausLemma.html#2333" class="Function">q&#39;</a>                        <a id="2439" href="Id.html#1757" class="Function Operator">≡⟨</a> <a id="2442" href="UF-KrausLemma.html#1318" class="Function">transport-ids-along-ids&#39;</a> <a id="2467" href="UF-KrausLemma.html#2258" class="Function">s</a> <a id="2469" href="UF-KrausLemma.html#1986" class="Bound">f</a> <a id="2471" href="UF-KrausLemma.html#2199" class="Function">p&#39;</a> <a id="2474" href="Id.html#1757" class="Function Operator">⟩</a>
         <a id="2485" class="Symbol">(</a><a id="2486" href="UF-KrausLemma.html#2258" class="Function">s</a> <a id="2488" href="Id.html#1263" class="Function Operator">⁻¹</a> <a id="2491" href="Id.html#1176" class="Function Operator">∙</a> <a id="2493" href="UF-KrausLemma.html#2199" class="Function">p&#39;</a><a id="2495" class="Symbol">)</a> <a id="2497" href="Id.html#1176" class="Function Operator">∙</a> <a id="2499" href="Id.html#1344" class="Function">ap</a> <a id="2502" href="UF-KrausLemma.html#1986" class="Bound">f</a> <a id="2504" href="UF-KrausLemma.html#2258" class="Function">s</a>      <a id="2511" href="Id.html#1757" class="Function Operator">≡⟨</a> <a id="2514" href="UF-Base.html#7258" class="Function">∙assoc</a> <a id="2521" class="Symbol">(</a><a id="2522" href="UF-KrausLemma.html#2258" class="Function">s</a> <a id="2524" href="Id.html#1263" class="Function Operator">⁻¹</a><a id="2526" class="Symbol">)</a> <a id="2528" href="UF-KrausLemma.html#2199" class="Function">p&#39;</a> <a id="2531" class="Symbol">(</a><a id="2532" href="Id.html#1344" class="Function">ap</a> <a id="2535" href="UF-KrausLemma.html#1986" class="Bound">f</a> <a id="2537" href="UF-KrausLemma.html#2258" class="Function">s</a><a id="2538" class="Symbol">)</a> <a id="2540" href="Id.html#1757" class="Function Operator">⟩</a>
         <a id="2551" href="UF-KrausLemma.html#2258" class="Function">s</a> <a id="2553" href="Id.html#1263" class="Function Operator">⁻¹</a> <a id="2556" href="Id.html#1176" class="Function Operator">∙</a> <a id="2558" class="Symbol">(</a><a id="2559" href="UF-KrausLemma.html#2199" class="Function">p&#39;</a> <a id="2562" href="Id.html#1176" class="Function Operator">∙</a> <a id="2564" href="Id.html#1344" class="Function">ap</a> <a id="2567" href="UF-KrausLemma.html#1986" class="Bound">f</a> <a id="2569" href="UF-KrausLemma.html#2258" class="Function">s</a><a id="2570" class="Symbol">)</a>      <a id="2577" href="Id.html#1757" class="Function Operator">≡⟨</a> <a id="2580" href="Id.html#1344" class="Function">ap</a> <a id="2583" class="Symbol">(λ</a> <a id="2586" href="UF-KrausLemma.html#2586" class="Bound">-</a> <a id="2588" class="Symbol">→</a> <a id="2590" href="UF-KrausLemma.html#2258" class="Function">s</a> <a id="2592" href="Id.html#1263" class="Function Operator">⁻¹</a> <a id="2595" href="Id.html#1176" class="Function Operator">∙</a> <a id="2597" class="Symbol">(</a><a id="2598" href="UF-KrausLemma.html#2199" class="Function">p&#39;</a> <a id="2601" href="Id.html#1176" class="Function Operator">∙</a> <a id="2603" href="UF-KrausLemma.html#2586" class="Bound">-</a><a id="2604" class="Symbol">))</a> <a id="2607" class="Symbol">(</a><a id="2608" href="UF-KrausLemma.html#799" class="Function">key-insight</a> <a id="2620" href="UF-KrausLemma.html#1986" class="Bound">f</a> <a id="2622" href="UF-KrausLemma.html#1988" class="Bound">g</a> <a id="2624" href="UF-KrausLemma.html#2258" class="Function">s</a><a id="2625" class="Symbol">)</a> <a id="2627" href="Id.html#1757" class="Function Operator">⟩</a>
         <a id="2638" href="UF-KrausLemma.html#2258" class="Function">s</a> <a id="2640" href="Id.html#1263" class="Function Operator">⁻¹</a> <a id="2643" href="Id.html#1176" class="Function Operator">∙</a> <a id="2645" class="Symbol">(</a><a id="2646" href="UF-KrausLemma.html#2199" class="Function">p&#39;</a> <a id="2649" href="Id.html#1176" class="Function Operator">∙</a> <a id="2651" href="Identity-Type.html#176" class="InductiveConstructor">refl</a><a id="2655" class="Symbol">)</a>        <a id="2664" href="Id.html#1757" class="Function Operator">≡⟨</a> <a id="2667" href="Id.html#1344" class="Function">ap</a> <a id="2670" class="Symbol">(λ</a> <a id="2673" href="UF-KrausLemma.html#2673" class="Bound">-</a> <a id="2675" class="Symbol">→</a> <a id="2677" href="UF-KrausLemma.html#2258" class="Function">s</a> <a id="2679" href="Id.html#1263" class="Function Operator">⁻¹</a> <a id="2682" href="Id.html#1176" class="Function Operator">∙</a> <a id="2684" href="UF-KrausLemma.html#2673" class="Bound">-</a><a id="2685" class="Symbol">)</a> <a id="2687" class="Symbol">((</a><a id="2689" href="UF-Base.html#7160" class="Function">refl-right-neutral</a> <a id="2708" href="UF-KrausLemma.html#2199" class="Function">p&#39;</a><a id="2710" class="Symbol">)</a><a id="2711" href="Id.html#1263" class="Function Operator">⁻¹</a><a id="2713" class="Symbol">)</a> <a id="2715" href="Id.html#1757" class="Function Operator">⟩</a>
         <a id="2726" href="UF-KrausLemma.html#2258" class="Function">s</a> <a id="2728" href="Id.html#1263" class="Function Operator">⁻¹</a> <a id="2731" href="Id.html#1176" class="Function Operator">∙</a> <a id="2733" href="UF-KrausLemma.html#2199" class="Function">p&#39;</a>                 <a id="2752" href="Id.html#1757" class="Function Operator">≡⟨</a> <a id="2755" href="Identity-Type.html#176" class="InductiveConstructor">refl</a> <a id="2760" href="Id.html#1757" class="Function Operator">⟩</a>
        <a id="2770" class="Symbol">(</a><a id="2771" href="UF-KrausLemma.html#2199" class="Function">p&#39;</a> <a id="2774" href="Id.html#1176" class="Function Operator">∙</a> <a id="2776" class="Symbol">(</a><a id="2777" href="UF-KrausLemma.html#2003" class="Bound">q</a> <a id="2779" href="Id.html#1263" class="Function Operator">⁻¹</a><a id="2781" class="Symbol">))</a><a id="2783" href="Id.html#1263" class="Function Operator">⁻¹</a> <a id="2786" href="Id.html#1176" class="Function Operator">∙</a> <a id="2788" href="UF-KrausLemma.html#2199" class="Function">p&#39;</a>       <a id="2797" href="Id.html#1757" class="Function Operator">≡⟨</a> <a id="2800" href="Id.html#1344" class="Function">ap</a> <a id="2803" class="Symbol">(λ</a> <a id="2806" href="UF-KrausLemma.html#2806" class="Bound">-</a> <a id="2808" class="Symbol">→</a> <a id="2810" href="UF-KrausLemma.html#2806" class="Bound">-</a> <a id="2812" href="Id.html#1176" class="Function Operator">∙</a> <a id="2814" href="UF-KrausLemma.html#2199" class="Function">p&#39;</a><a id="2816" class="Symbol">)</a> <a id="2818" class="Symbol">((</a><a id="2820" href="UF-Base.html#7927" class="Function">⁻¹-contravariant</a> <a id="2837" href="UF-KrausLemma.html#2199" class="Function">p&#39;</a> <a id="2840" class="Symbol">(</a><a id="2841" href="UF-KrausLemma.html#2003" class="Bound">q</a> <a id="2843" href="Id.html#1263" class="Function Operator">⁻¹</a><a id="2845" class="Symbol">))</a><a id="2847" href="Id.html#1263" class="Function Operator">⁻¹</a><a id="2849" class="Symbol">)</a> <a id="2851" href="Id.html#1757" class="Function Operator">⟩</a>
        <a id="2861" class="Symbol">((</a><a id="2863" href="UF-KrausLemma.html#2003" class="Bound">q</a> <a id="2865" href="Id.html#1263" class="Function Operator">⁻¹</a><a id="2867" class="Symbol">)</a><a id="2868" href="Id.html#1263" class="Function Operator">⁻¹</a> <a id="2871" href="Id.html#1176" class="Function Operator">∙</a> <a id="2873" class="Symbol">(</a><a id="2874" href="UF-KrausLemma.html#2199" class="Function">p&#39;</a> <a id="2877" href="Id.html#1263" class="Function Operator">⁻¹</a><a id="2879" class="Symbol">))</a> <a id="2882" href="Id.html#1176" class="Function Operator">∙</a> <a id="2884" href="UF-KrausLemma.html#2199" class="Function">p&#39;</a>  <a id="2888" href="Id.html#1757" class="Function Operator">≡⟨</a> <a id="2891" href="Id.html#1344" class="Function">ap</a> <a id="2894" class="Symbol">(λ</a> <a id="2897" href="UF-KrausLemma.html#2897" class="Bound">-</a> <a id="2899" class="Symbol">→</a> <a id="2901" class="Symbol">(</a><a id="2902" href="UF-KrausLemma.html#2897" class="Bound">-</a> <a id="2904" href="Id.html#1176" class="Function Operator">∙</a> <a id="2906" class="Symbol">(</a><a id="2907" href="UF-KrausLemma.html#2199" class="Function">p&#39;</a> <a id="2910" href="Id.html#1263" class="Function Operator">⁻¹</a><a id="2912" class="Symbol">))</a> <a id="2915" href="Id.html#1176" class="Function Operator">∙</a> <a id="2917" href="UF-KrausLemma.html#2199" class="Function">p&#39;</a><a id="2919" class="Symbol">)</a> <a id="2921" class="Symbol">(</a><a id="2922" href="UF-Base.html#7836" class="Function">⁻¹-involutive</a> <a id="2936" href="UF-KrausLemma.html#2003" class="Bound">q</a><a id="2937" class="Symbol">)</a> <a id="2939" href="Id.html#1757" class="Function Operator">⟩</a>
        <a id="2949" class="Symbol">(</a><a id="2950" href="UF-KrausLemma.html#2003" class="Bound">q</a> <a id="2952" href="Id.html#1176" class="Function Operator">∙</a> <a id="2954" class="Symbol">(</a><a id="2955" href="UF-KrausLemma.html#2199" class="Function">p&#39;</a> <a id="2958" href="Id.html#1263" class="Function Operator">⁻¹</a><a id="2960" class="Symbol">))</a> <a id="2963" href="Id.html#1176" class="Function Operator">∙</a> <a id="2965" href="UF-KrausLemma.html#2199" class="Function">p&#39;</a>         <a id="2976" href="Id.html#1757" class="Function Operator">≡⟨</a> <a id="2979" href="UF-Base.html#7258" class="Function">∙assoc</a> <a id="2986" href="UF-KrausLemma.html#2003" class="Bound">q</a> <a id="2988" class="Symbol">(</a><a id="2989" href="UF-KrausLemma.html#2199" class="Function">p&#39;</a> <a id="2992" href="Id.html#1263" class="Function Operator">⁻¹</a><a id="2994" class="Symbol">)</a> <a id="2996" href="UF-KrausLemma.html#2199" class="Function">p&#39;</a> <a id="2999" href="Id.html#1757" class="Function Operator">⟩</a>
         <a id="3010" href="UF-KrausLemma.html#2003" class="Bound">q</a> <a id="3012" href="Id.html#1176" class="Function Operator">∙</a> <a id="3014" class="Symbol">((</a><a id="3016" href="UF-KrausLemma.html#2199" class="Function">p&#39;</a> <a id="3019" href="Id.html#1263" class="Function Operator">⁻¹</a><a id="3021" class="Symbol">)</a> <a id="3023" href="Id.html#1176" class="Function Operator">∙</a> <a id="3025" href="UF-KrausLemma.html#2199" class="Function">p&#39;</a><a id="3027" class="Symbol">)</a>        <a id="3036" href="Id.html#1757" class="Function Operator">≡⟨</a> <a id="3039" href="Id.html#1344" class="Function">ap</a> <a id="3042" class="Symbol">(λ</a> <a id="3045" href="UF-KrausLemma.html#3045" class="Bound">-</a> <a id="3047" class="Symbol">→</a> <a id="3049" href="UF-KrausLemma.html#2003" class="Bound">q</a> <a id="3051" href="Id.html#1176" class="Function Operator">∙</a> <a id="3053" href="UF-KrausLemma.html#3045" class="Bound">-</a><a id="3054" class="Symbol">)</a> <a id="3056" class="Symbol">((</a><a id="3058" href="UF-Base.html#7578" class="Function">sym-is-inverse</a> <a id="3073" href="UF-KrausLemma.html#2199" class="Function">p&#39;</a><a id="3075" class="Symbol">)</a><a id="3076" href="Id.html#1263" class="Function Operator">⁻¹</a><a id="3078" class="Symbol">)</a> <a id="3080" href="Id.html#1757" class="Function Operator">⟩</a>
         <a id="3091" href="UF-KrausLemma.html#2003" class="Bound">q</a> <a id="3093" href="Id.html#1176" class="Function Operator">∙</a> <a id="3095" href="Identity-Type.html#176" class="InductiveConstructor">refl</a>                  <a id="3117" href="Id.html#1757" class="Function Operator">≡⟨</a> <a id="3120" class="Symbol">(</a><a id="3121" href="UF-Base.html#7160" class="Function">refl-right-neutral</a> <a id="3140" href="UF-KrausLemma.html#2003" class="Bound">q</a><a id="3141" class="Symbol">)</a><a id="3142" href="Id.html#1263" class="Function Operator">⁻¹</a> <a id="3145" href="Id.html#1757" class="Function Operator">⟩</a>
         <a id="3156" href="UF-KrausLemma.html#2003" class="Bound">q</a>                         <a id="3182" href="Id.html#1839" class="Function Operator">∎</a>

<a id="3185" class="Markup">\end{code}</a><a id="3195" class="Background">

A main application is to show that, in pure spartan MLTT, if a type
has a wconstant endfunction then it has a propositional truncation.

</a><a id="3334" class="Markup">\begin{code}</a>

<a id="from-fix"></a><a id="3348" href="UF-KrausLemma.html#3348" class="Function">from-fix</a> <a id="3357" class="Symbol">:</a> <a id="3359" class="Symbol">{</a><a id="3360" href="UF-KrausLemma.html#3360" class="Bound">X</a> <a id="3362" class="Symbol">:</a> <a id="3364" href="Universes.html#274" class="Generalizable">𝓤</a> <a id="3366" href="Universes.html#417" class="Function Operator">̇</a> <a id="3368" class="Symbol">}</a> <a id="3370" class="Symbol">(</a><a id="3371" href="UF-KrausLemma.html#3371" class="Bound">f</a> <a id="3373" class="Symbol">:</a> <a id="3375" href="UF-KrausLemma.html#3360" class="Bound">X</a> <a id="3377" class="Symbol">→</a> <a id="3379" href="UF-KrausLemma.html#3360" class="Bound">X</a><a id="3380" class="Symbol">)</a> <a id="3382" class="Symbol">→</a> <a id="3384" href="UF-KrausLemma.html#563" class="Function">fix</a> <a id="3388" href="UF-KrausLemma.html#3371" class="Bound">f</a> <a id="3390" class="Symbol">→</a> <a id="3392" href="UF-KrausLemma.html#3360" class="Bound">X</a>
<a id="3394" href="UF-KrausLemma.html#3348" class="Function">from-fix</a> <a id="3403" href="UF-KrausLemma.html#3403" class="Bound">f</a> <a id="3405" class="Symbol">=</a> <a id="3407" href="Sigma-Type.html#217" class="Field">pr₁</a>

<a id="to-fix"></a><a id="3412" href="UF-KrausLemma.html#3412" class="Function">to-fix</a> <a id="3419" class="Symbol">:</a> <a id="3421" class="Symbol">{</a><a id="3422" href="UF-KrausLemma.html#3422" class="Bound">X</a> <a id="3424" class="Symbol">:</a> <a id="3426" href="Universes.html#274" class="Generalizable">𝓤</a> <a id="3428" href="Universes.html#417" class="Function Operator">̇</a> <a id="3430" class="Symbol">}</a> <a id="3432" class="Symbol">(</a><a id="3433" href="UF-KrausLemma.html#3433" class="Bound">f</a> <a id="3435" class="Symbol">:</a> <a id="3437" href="UF-KrausLemma.html#3422" class="Bound">X</a> <a id="3439" class="Symbol">→</a> <a id="3441" href="UF-KrausLemma.html#3422" class="Bound">X</a><a id="3442" class="Symbol">)</a> <a id="3444" class="Symbol">→</a> <a id="3446" href="UF-Subsingletons.html#3484" class="Function">wconstant</a> <a id="3456" href="UF-KrausLemma.html#3433" class="Bound">f</a> <a id="3458" class="Symbol">→</a> <a id="3460" href="UF-KrausLemma.html#3422" class="Bound">X</a> <a id="3462" class="Symbol">→</a> <a id="3464" href="UF-KrausLemma.html#563" class="Function">fix</a> <a id="3468" href="UF-KrausLemma.html#3433" class="Bound">f</a>
<a id="3470" href="UF-KrausLemma.html#3412" class="Function">to-fix</a> <a id="3477" href="UF-KrausLemma.html#3477" class="Bound">f</a> <a id="3479" href="UF-KrausLemma.html#3479" class="Bound">g</a> <a id="3481" href="UF-KrausLemma.html#3481" class="Bound">x</a> <a id="3483" class="Symbol">=</a> <a id="3485" class="Symbol">(</a><a id="3486" href="UF-KrausLemma.html#3477" class="Bound">f</a> <a id="3488" href="UF-KrausLemma.html#3481" class="Bound">x</a> <a id="3490" href="Sigma-Type.html#202" class="InductiveConstructor Operator">,</a> <a id="3492" href="UF-KrausLemma.html#3479" class="Bound">g</a> <a id="3494" href="UF-KrausLemma.html#3481" class="Bound">x</a> <a id="3496" class="Symbol">(</a><a id="3497" href="UF-KrausLemma.html#3477" class="Bound">f</a> <a id="3499" href="UF-KrausLemma.html#3481" class="Bound">x</a><a id="3500" class="Symbol">))</a>

<a id="from-to-fix"></a><a id="3504" href="UF-KrausLemma.html#3504" class="Function">from-to-fix</a> <a id="3516" class="Symbol">:</a> <a id="3518" class="Symbol">{</a><a id="3519" href="UF-KrausLemma.html#3519" class="Bound">X</a> <a id="3521" class="Symbol">:</a> <a id="3523" href="Universes.html#274" class="Generalizable">𝓤</a> <a id="3525" href="Universes.html#417" class="Function Operator">̇</a> <a id="3527" class="Symbol">}</a> <a id="3529" class="Symbol">(</a><a id="3530" href="UF-KrausLemma.html#3530" class="Bound">f</a> <a id="3532" class="Symbol">:</a> <a id="3534" href="UF-KrausLemma.html#3519" class="Bound">X</a> <a id="3536" class="Symbol">→</a> <a id="3538" href="UF-KrausLemma.html#3519" class="Bound">X</a><a id="3539" class="Symbol">)</a> <a id="3541" class="Symbol">(</a><a id="3542" href="UF-KrausLemma.html#3542" class="Bound">κ</a> <a id="3544" class="Symbol">:</a> <a id="3546" href="UF-Subsingletons.html#3484" class="Function">wconstant</a> <a id="3556" href="UF-KrausLemma.html#3530" class="Bound">f</a><a id="3557" class="Symbol">)</a>
            <a id="3571" class="Symbol">→</a> <a id="3573" href="UF-KrausLemma.html#3348" class="Function">from-fix</a> <a id="3582" href="UF-KrausLemma.html#3530" class="Bound">f</a> <a id="3584" href="Pi.html#531" class="Function Operator">∘</a> <a id="3586" href="UF-KrausLemma.html#3412" class="Function">to-fix</a> <a id="3593" href="UF-KrausLemma.html#3530" class="Bound">f</a> <a id="3595" href="UF-KrausLemma.html#3542" class="Bound">κ</a> <a id="3597" href="Id.html#1581" class="Function Operator">∼</a> <a id="3599" href="UF-KrausLemma.html#3530" class="Bound">f</a>
<a id="3601" href="UF-KrausLemma.html#3504" class="Function">from-to-fix</a> <a id="3613" href="UF-KrausLemma.html#3613" class="Bound">f</a> <a id="3615" href="UF-KrausLemma.html#3615" class="Bound">κ</a> <a id="3617" href="UF-KrausLemma.html#3617" class="Bound">w</a> <a id="3619" class="Symbol">=</a> <a id="3621" href="Identity-Type.html#176" class="InductiveConstructor">refl</a>

<a id="to-from-fix"></a><a id="3627" href="UF-KrausLemma.html#3627" class="Function">to-from-fix</a> <a id="3639" class="Symbol">:</a> <a id="3641" class="Symbol">{</a><a id="3642" href="UF-KrausLemma.html#3642" class="Bound">X</a> <a id="3644" class="Symbol">:</a> <a id="3646" href="Universes.html#274" class="Generalizable">𝓤</a> <a id="3648" href="Universes.html#417" class="Function Operator">̇</a> <a id="3650" class="Symbol">}</a> <a id="3652" class="Symbol">(</a><a id="3653" href="UF-KrausLemma.html#3653" class="Bound">f</a> <a id="3655" class="Symbol">:</a> <a id="3657" href="UF-KrausLemma.html#3642" class="Bound">X</a> <a id="3659" class="Symbol">→</a> <a id="3661" href="UF-KrausLemma.html#3642" class="Bound">X</a><a id="3662" class="Symbol">)</a> <a id="3664" class="Symbol">(</a><a id="3665" href="UF-KrausLemma.html#3665" class="Bound">κ</a> <a id="3667" class="Symbol">:</a> <a id="3669" href="UF-Subsingletons.html#3484" class="Function">wconstant</a> <a id="3679" href="UF-KrausLemma.html#3653" class="Bound">f</a><a id="3680" class="Symbol">)</a>
            <a id="3694" class="Symbol">→</a> <a id="3696" href="UF-KrausLemma.html#3412" class="Function">to-fix</a> <a id="3703" href="UF-KrausLemma.html#3653" class="Bound">f</a> <a id="3705" href="UF-KrausLemma.html#3665" class="Bound">κ</a> <a id="3707" href="Pi.html#531" class="Function Operator">∘</a> <a id="3709" href="UF-KrausLemma.html#3348" class="Function">from-fix</a> <a id="3718" href="UF-KrausLemma.html#3653" class="Bound">f</a> <a id="3720" href="Id.html#1581" class="Function Operator">∼</a> <a id="3722" href="Pi.html#462" class="Function">id</a>
<a id="3725" href="UF-KrausLemma.html#3627" class="Function">to-from-fix</a> <a id="3737" href="UF-KrausLemma.html#3737" class="Bound">f</a> <a id="3739" href="UF-KrausLemma.html#3739" class="Bound">κ</a> <a id="3741" class="Symbol">_</a> <a id="3743" class="Symbol">=</a> <a id="3745" href="UF-KrausLemma.html#1895" class="Function">fix-is-prop</a> <a id="3757" href="UF-KrausLemma.html#3737" class="Bound">f</a> <a id="3759" href="UF-KrausLemma.html#3739" class="Bound">κ</a> <a id="3761" class="Symbol">_</a> <a id="3763" class="Symbol">_</a>

<a id="has-split-support&#39;"></a><a id="3766" href="UF-KrausLemma.html#3766" class="Function">has-split-support&#39;</a> <a id="3785" class="Symbol">:</a> <a id="3787" href="Universes.html#274" class="Generalizable">𝓤</a> <a id="3789" href="Universes.html#417" class="Function Operator">̇</a> <a id="3791" class="Symbol">→</a> <a id="3793" href="Universes.html#274" class="Generalizable">𝓤</a> <a id="3795" href="Agda.Primitive.html#780" class="Primitive Operator">⁺</a> <a id="3797" href="Universes.html#417" class="Function Operator">̇</a>
<a id="3799" href="UF-KrausLemma.html#3766" class="Function">has-split-support&#39;</a> <a id="3818" class="Symbol">{</a><a id="3819" href="UF-KrausLemma.html#3819" class="Bound">𝓤</a><a id="3820" class="Symbol">}</a> <a id="3822" href="UF-KrausLemma.html#3822" class="Bound">X</a> <a id="3824" class="Symbol">=</a> <a id="3826" href="Sigma.html#436" class="Function">Σ</a> <a id="3828" href="UF-KrausLemma.html#3828" class="Bound">P</a> <a id="3830" href="Sigma.html#436" class="Function">꞉</a> <a id="3832" href="UF-KrausLemma.html#3819" class="Bound">𝓤</a> <a id="3834" href="Universes.html#417" class="Function Operator">̇</a> <a id="3836" href="Sigma.html#436" class="Function">,</a> <a id="3838" href="UF-Subsingletons.html#487" class="Function">is-prop</a> <a id="3846" href="UF-KrausLemma.html#3828" class="Bound">P</a> <a id="3848" href="Sigma.html#571" class="Function Operator">×</a> <a id="3850" class="Symbol">(</a><a id="3851" href="UF-KrausLemma.html#3822" class="Bound">X</a> <a id="3853" href="GeneralNotation.html#1382" class="Function Operator">⇔</a> <a id="3855" href="UF-KrausLemma.html#3828" class="Bound">P</a><a id="3856" class="Symbol">)</a>

<a id="fix-has-split-support&#39;"></a><a id="3859" href="UF-KrausLemma.html#3859" class="Function">fix-has-split-support&#39;</a> <a id="3882" class="Symbol">:</a> <a id="3884" class="Symbol">{</a><a id="3885" href="UF-KrausLemma.html#3885" class="Bound">X</a> <a id="3887" class="Symbol">:</a> <a id="3889" href="Universes.html#274" class="Generalizable">𝓤</a> <a id="3891" href="Universes.html#417" class="Function Operator">̇</a> <a id="3893" class="Symbol">}</a>
                       <a id="3918" class="Symbol">→</a> <a id="3920" href="UF-Subsingletons.html#3935" class="Function">collapsible</a> <a id="3932" href="UF-KrausLemma.html#3885" class="Bound">X</a>
                       <a id="3957" class="Symbol">→</a> <a id="3959" href="UF-KrausLemma.html#3766" class="Function">has-split-support&#39;</a> <a id="3978" href="UF-KrausLemma.html#3885" class="Bound">X</a>
<a id="3980" href="UF-KrausLemma.html#3859" class="Function">fix-has-split-support&#39;</a> <a id="4003" class="Symbol">{</a><a id="4004" href="UF-KrausLemma.html#4004" class="Bound">𝓤</a><a id="4005" class="Symbol">}</a> <a id="4007" class="Symbol">{</a><a id="4008" href="UF-KrausLemma.html#4008" class="Bound">X</a><a id="4009" class="Symbol">}</a> <a id="4011" class="Symbol">(</a><a id="4012" href="UF-KrausLemma.html#4012" class="Bound">f</a> <a id="4014" href="Sigma-Type.html#202" class="InductiveConstructor Operator">,</a> <a id="4016" href="UF-KrausLemma.html#4016" class="Bound">κ</a><a id="4017" class="Symbol">)</a> <a id="4019" class="Symbol">=</a> <a id="4021" href="UF-KrausLemma.html#563" class="Function">fix</a> <a id="4025" href="UF-KrausLemma.html#4012" class="Bound">f</a> <a id="4027" href="Sigma-Type.html#202" class="InductiveConstructor Operator">,</a> <a id="4029" href="UF-KrausLemma.html#1895" class="Function">fix-is-prop</a> <a id="4041" href="UF-KrausLemma.html#4012" class="Bound">f</a> <a id="4043" href="UF-KrausLemma.html#4016" class="Bound">κ</a> <a id="4045" href="Sigma-Type.html#202" class="InductiveConstructor Operator">,</a> <a id="4047" href="UF-KrausLemma.html#3412" class="Function">to-fix</a> <a id="4054" href="UF-KrausLemma.html#4012" class="Bound">f</a> <a id="4056" href="UF-KrausLemma.html#4016" class="Bound">κ</a> <a id="4058" href="Sigma-Type.html#202" class="InductiveConstructor Operator">,</a> <a id="4060" href="UF-KrausLemma.html#3348" class="Function">from-fix</a> <a id="4069" href="UF-KrausLemma.html#4012" class="Bound">f</a>

<a id="has-prop-truncation"></a><a id="4072" href="UF-KrausLemma.html#4072" class="Function">has-prop-truncation</a> <a id="4092" class="Symbol">:</a> <a id="4094" class="Symbol">(</a><a id="4095" href="UF-KrausLemma.html#4095" class="Bound">𝓥</a> <a id="4097" class="Symbol">:</a> <a id="4099" href="Agda.Primitive.html#597" class="Postulate">Universe</a><a id="4107" class="Symbol">)</a> <a id="4109" class="Symbol">→</a> <a id="4111" href="Universes.html#274" class="Generalizable">𝓤</a> <a id="4113" href="Universes.html#417" class="Function Operator">̇</a> <a id="4115" class="Symbol">→</a> <a id="4117" class="Symbol">(</a><a id="4118" href="Universes.html#274" class="Generalizable">𝓤</a> <a id="4120" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="4122" href="UF-KrausLemma.html#4095" class="Bound">𝓥</a><a id="4123" class="Symbol">)</a><a id="4124" href="Agda.Primitive.html#780" class="Primitive Operator">⁺</a> <a id="4126" href="Universes.html#417" class="Function Operator">̇</a>
<a id="4128" href="UF-KrausLemma.html#4072" class="Function">has-prop-truncation</a> <a id="4148" class="Symbol">{</a><a id="4149" href="UF-KrausLemma.html#4149" class="Bound">𝓤</a><a id="4150" class="Symbol">}</a> <a id="4152" href="UF-KrausLemma.html#4152" class="Bound">𝓥</a> <a id="4154" href="UF-KrausLemma.html#4154" class="Bound">X</a> <a id="4156" class="Symbol">=</a> <a id="4158" href="Sigma.html#436" class="Function">Σ</a> <a id="4160" href="UF-KrausLemma.html#4160" class="Bound">X&#39;</a> <a id="4163" href="Sigma.html#436" class="Function">꞉</a> <a id="4165" href="UF-KrausLemma.html#4149" class="Bound">𝓤</a> <a id="4167" href="Universes.html#417" class="Function Operator">̇</a> <a id="4169" href="Sigma.html#436" class="Function">,</a> <a id="4171" href="UF-Subsingletons.html#487" class="Function">is-prop</a> <a id="4179" href="UF-KrausLemma.html#4160" class="Bound">X&#39;</a>
                                        <a id="4222" href="Sigma.html#571" class="Function Operator">×</a> <a id="4224" class="Symbol">(</a><a id="4225" href="UF-KrausLemma.html#4154" class="Bound">X</a> <a id="4227" class="Symbol">→</a> <a id="4229" href="UF-KrausLemma.html#4160" class="Bound">X&#39;</a><a id="4231" class="Symbol">)</a>
                                        <a id="4273" href="Sigma.html#571" class="Function Operator">×</a> <a id="4275" class="Symbol">((</a><a id="4277" href="UF-KrausLemma.html#4277" class="Bound">P</a> <a id="4279" class="Symbol">:</a> <a id="4281" href="UF-KrausLemma.html#4152" class="Bound">𝓥</a> <a id="4283" href="Universes.html#417" class="Function Operator">̇</a> <a id="4285" class="Symbol">)</a> <a id="4287" class="Symbol">→</a> <a id="4289" href="UF-Subsingletons.html#487" class="Function">is-prop</a> <a id="4297" href="UF-KrausLemma.html#4277" class="Bound">P</a> <a id="4299" class="Symbol">→</a> <a id="4301" class="Symbol">(</a><a id="4302" href="UF-KrausLemma.html#4154" class="Bound">X</a> <a id="4304" class="Symbol">→</a> <a id="4306" href="UF-KrausLemma.html#4277" class="Bound">P</a><a id="4307" class="Symbol">)</a> <a id="4309" class="Symbol">→</a> <a id="4311" href="UF-KrausLemma.html#4160" class="Bound">X&#39;</a> <a id="4314" class="Symbol">→</a> <a id="4316" href="UF-KrausLemma.html#4277" class="Bound">P</a><a id="4317" class="Symbol">)</a>

<a id="split-truncation"></a><a id="4320" href="UF-KrausLemma.html#4320" class="Function">split-truncation</a> <a id="4337" class="Symbol">:</a> <a id="4339" class="Symbol">{</a><a id="4340" href="UF-KrausLemma.html#4340" class="Bound">X</a> <a id="4342" class="Symbol">:</a> <a id="4344" href="Universes.html#274" class="Generalizable">𝓤</a> <a id="4346" href="Universes.html#417" class="Function Operator">̇</a> <a id="4348" class="Symbol">}</a> <a id="4350" class="Symbol">→</a> <a id="4352" href="UF-KrausLemma.html#3766" class="Function">has-split-support&#39;</a> <a id="4371" href="UF-KrausLemma.html#4340" class="Bound">X</a> <a id="4373" class="Symbol">→</a> <a id="4375" class="Symbol">∀</a> <a id="4377" href="UF-KrausLemma.html#4377" class="Bound">𝓥</a> <a id="4379" class="Symbol">→</a> <a id="4381" href="UF-KrausLemma.html#4072" class="Function">has-prop-truncation</a> <a id="4401" href="UF-KrausLemma.html#4377" class="Bound">𝓥</a> <a id="4403" href="UF-KrausLemma.html#4340" class="Bound">X</a>
<a id="4405" href="UF-KrausLemma.html#4320" class="Function">split-truncation</a> <a id="4422" class="Symbol">{</a><a id="4423" href="UF-KrausLemma.html#4423" class="Bound">𝓤</a><a id="4424" class="Symbol">}</a> <a id="4426" class="Symbol">{</a><a id="4427" href="UF-KrausLemma.html#4427" class="Bound">X</a><a id="4428" class="Symbol">}</a> <a id="4430" class="Symbol">(</a><a id="4431" href="UF-KrausLemma.html#4431" class="Bound">X&#39;</a> <a id="4434" href="Sigma-Type.html#202" class="InductiveConstructor Operator">,</a> <a id="4436" href="UF-KrausLemma.html#4436" class="Bound">i</a> <a id="4438" href="Sigma-Type.html#202" class="InductiveConstructor Operator">,</a> <a id="4440" href="UF-KrausLemma.html#4440" class="Bound">f</a> <a id="4442" href="Sigma-Type.html#202" class="InductiveConstructor Operator">,</a> <a id="4444" href="UF-KrausLemma.html#4444" class="Bound">g</a><a id="4445" class="Symbol">)</a> <a id="4447" href="UF-KrausLemma.html#4447" class="Bound">V</a> <a id="4449" class="Symbol">=</a> <a id="4451" href="UF-KrausLemma.html#4431" class="Bound">X&#39;</a> <a id="4454" href="Sigma-Type.html#202" class="InductiveConstructor Operator">,</a> <a id="4456" href="UF-KrausLemma.html#4436" class="Bound">i</a> <a id="4458" href="Sigma-Type.html#202" class="InductiveConstructor Operator">,</a> <a id="4460" href="UF-KrausLemma.html#4440" class="Bound">f</a> <a id="4462" href="Sigma-Type.html#202" class="InductiveConstructor Operator">,</a> <a id="4464" class="Symbol">λ</a> <a id="4466" href="UF-KrausLemma.html#4466" class="Bound">P</a> <a id="4468" href="UF-KrausLemma.html#4468" class="Bound">j</a> <a id="4470" href="UF-KrausLemma.html#4470" class="Bound">h</a> <a id="4472" href="UF-KrausLemma.html#4472" class="Bound">x&#39;</a> <a id="4475" class="Symbol">→</a> <a id="4477" href="UF-KrausLemma.html#4470" class="Bound">h</a> <a id="4479" class="Symbol">(</a><a id="4480" href="UF-KrausLemma.html#4444" class="Bound">g</a> <a id="4482" href="UF-KrausLemma.html#4472" class="Bound">x&#39;</a><a id="4484" class="Symbol">)</a>

<a id="collapsible-has-prop-truncation"></a><a id="4487" href="UF-KrausLemma.html#4487" class="Function">collapsible-has-prop-truncation</a> <a id="4519" class="Symbol">:</a> <a id="4521" class="Symbol">{</a><a id="4522" href="UF-KrausLemma.html#4522" class="Bound">X</a> <a id="4524" class="Symbol">:</a> <a id="4526" href="Universes.html#274" class="Generalizable">𝓤</a> <a id="4528" href="Universes.html#417" class="Function Operator">̇</a> <a id="4530" class="Symbol">}</a>
                                <a id="4564" class="Symbol">→</a> <a id="4566" href="UF-Subsingletons.html#3935" class="Function">collapsible</a> <a id="4578" href="UF-KrausLemma.html#4522" class="Bound">X</a>
                                <a id="4612" class="Symbol">→</a> <a id="4614" class="Symbol">∀</a> <a id="4616" href="UF-KrausLemma.html#4616" class="Bound">𝓥</a> <a id="4618" class="Symbol">→</a> <a id="4620" href="UF-KrausLemma.html#4072" class="Function">has-prop-truncation</a> <a id="4640" href="UF-KrausLemma.html#4616" class="Bound">𝓥</a> <a id="4642" href="UF-KrausLemma.html#4522" class="Bound">X</a>
<a id="4644" href="UF-KrausLemma.html#4487" class="Function">collapsible-has-prop-truncation</a> <a id="4676" class="Symbol">{</a><a id="4677" href="UF-KrausLemma.html#4677" class="Bound">𝓤</a><a id="4678" class="Symbol">}</a> <a id="4680" class="Symbol">{</a><a id="4681" href="UF-KrausLemma.html#4681" class="Bound">X</a><a id="4682" class="Symbol">}</a> <a id="4684" href="UF-KrausLemma.html#4684" class="Bound">c</a> <a id="4686" class="Symbol">=</a> <a id="4688" href="UF-KrausLemma.html#4320" class="Function">split-truncation</a> <a id="4705" class="Symbol">(</a><a id="4706" href="UF-KrausLemma.html#3859" class="Function">fix-has-split-support&#39;</a> <a id="4729" href="UF-KrausLemma.html#4684" class="Bound">c</a><a id="4730" class="Symbol">)</a>

<a id="4733" class="Keyword">open</a> <a id="4738" class="Keyword">import</a> <a id="4745" href="UF-PropTrunc.html" class="Module">UF-PropTrunc</a>

<a id="4759" class="Keyword">module</a> <a id="split-support-and-collapsibility"></a><a id="4766" href="UF-KrausLemma.html#4766" class="Module">split-support-and-collapsibility</a> <a id="4799" class="Symbol">(</a><a id="4800" href="UF-KrausLemma.html#4800" class="Bound">pe</a> <a id="4803" class="Symbol">:</a> <a id="4805" href="UF-PropTrunc.html#477" class="Record">propositional-truncations-exist</a><a id="4836" class="Symbol">)</a> <a id="4838" class="Keyword">where</a>

 <a id="4846" class="Keyword">open</a> <a id="4851" href="UF-PropTrunc.html#783" class="Module">PropositionalTruncation</a> <a id="4875" href="UF-KrausLemma.html#4800" class="Bound">pe</a>

 <a id="split-support-and-collapsibility.has-split-support"></a><a id="4880" href="UF-KrausLemma.html#4880" class="Function">has-split-support</a> <a id="4898" class="Symbol">:</a> <a id="4900" href="Universes.html#274" class="Generalizable">𝓤</a> <a id="4902" href="Universes.html#417" class="Function Operator">̇</a> <a id="4904" class="Symbol">→</a> <a id="4906" href="Universes.html#274" class="Generalizable">𝓤</a> <a id="4908" href="Universes.html#417" class="Function Operator">̇</a>
 <a id="4911" href="UF-KrausLemma.html#4880" class="Function">has-split-support</a> <a id="4929" href="UF-KrausLemma.html#4929" class="Bound">X</a> <a id="4931" class="Symbol">=</a> <a id="4933" href="UF-PropTrunc.html#529" class="Field Operator">∥</a> <a id="4935" href="UF-KrausLemma.html#4929" class="Bound">X</a> <a id="4937" href="UF-PropTrunc.html#529" class="Field Operator">∥</a> <a id="4939" class="Symbol">→</a> <a id="4941" href="UF-KrausLemma.html#4929" class="Bound">X</a>

 <a id="split-support-and-collapsibility.has-split-support→"></a><a id="4945" href="UF-KrausLemma.html#4945" class="Function">has-split-support→</a> <a id="4964" class="Symbol">:</a> <a id="4966" class="Symbol">{</a><a id="4967" href="UF-KrausLemma.html#4967" class="Bound">X</a> <a id="4969" class="Symbol">:</a> <a id="4971" href="Universes.html#274" class="Generalizable">𝓤</a> <a id="4973" href="Universes.html#417" class="Function Operator">̇</a> <a id="4975" class="Symbol">}</a> <a id="4977" class="Symbol">→</a> <a id="4979" href="UF-KrausLemma.html#4880" class="Function">has-split-support</a> <a id="4997" href="UF-KrausLemma.html#4967" class="Bound">X</a> <a id="4999" class="Symbol">→</a> <a id="5001" href="UF-KrausLemma.html#3766" class="Function">has-split-support&#39;</a> <a id="5020" href="UF-KrausLemma.html#4967" class="Bound">X</a>
 <a id="5023" href="UF-KrausLemma.html#4945" class="Function">has-split-support→</a> <a id="5042" class="Symbol">{</a><a id="5043" href="UF-KrausLemma.html#5043" class="Bound">𝓤</a><a id="5044" class="Symbol">}</a> <a id="5046" class="Symbol">{</a><a id="5047" href="UF-KrausLemma.html#5047" class="Bound">X</a><a id="5048" class="Symbol">}</a> <a id="5050" href="UF-KrausLemma.html#5050" class="Bound">f</a> <a id="5052" class="Symbol">=</a> <a id="5054" href="UF-PropTrunc.html#529" class="Field Operator">∥</a> <a id="5056" href="UF-KrausLemma.html#5047" class="Bound">X</a> <a id="5058" href="UF-PropTrunc.html#529" class="Field Operator">∥</a> <a id="5060" href="Sigma-Type.html#202" class="InductiveConstructor Operator">,</a> <a id="5062" href="UF-PropTrunc.html#564" class="Field">∥∥-is-prop</a> <a id="5073" href="Sigma-Type.html#202" class="InductiveConstructor Operator">,</a> <a id="5075" class="Symbol">(λ</a> <a id="5078" href="UF-KrausLemma.html#5078" class="Bound">x</a> <a id="5080" class="Symbol">→</a> <a id="5082" href="UF-PropTrunc.html#621" class="Field Operator">∣</a> <a id="5084" href="UF-KrausLemma.html#5078" class="Bound">x</a> <a id="5086" href="UF-PropTrunc.html#621" class="Field Operator">∣</a><a id="5087" class="Symbol">)</a> <a id="5089" href="Sigma-Type.html#202" class="InductiveConstructor Operator">,</a> <a id="5091" href="UF-KrausLemma.html#5050" class="Bound">f</a>

 <a id="split-support-and-collapsibility.has-split-support←"></a><a id="5095" href="UF-KrausLemma.html#5095" class="Function">has-split-support←</a> <a id="5114" class="Symbol">:</a> <a id="5116" class="Symbol">{</a><a id="5117" href="UF-KrausLemma.html#5117" class="Bound">X</a> <a id="5119" class="Symbol">:</a> <a id="5121" href="Universes.html#274" class="Generalizable">𝓤</a> <a id="5123" href="Universes.html#417" class="Function Operator">̇</a> <a id="5125" class="Symbol">}</a> <a id="5127" class="Symbol">→</a> <a id="5129" href="UF-KrausLemma.html#3766" class="Function">has-split-support&#39;</a> <a id="5148" href="UF-KrausLemma.html#5117" class="Bound">X</a> <a id="5150" class="Symbol">→</a> <a id="5152" href="UF-KrausLemma.html#4880" class="Function">has-split-support</a> <a id="5170" href="UF-KrausLemma.html#5117" class="Bound">X</a>
 <a id="5173" href="UF-KrausLemma.html#5095" class="Function">has-split-support←</a> <a id="5192" class="Symbol">{</a><a id="5193" href="UF-KrausLemma.html#5193" class="Bound">𝓤</a><a id="5194" class="Symbol">}</a> <a id="5196" class="Symbol">{</a><a id="5197" href="UF-KrausLemma.html#5197" class="Bound">X</a><a id="5198" class="Symbol">}</a> <a id="5200" class="Symbol">(</a><a id="5201" href="UF-KrausLemma.html#5201" class="Bound">P</a> <a id="5203" href="Sigma-Type.html#202" class="InductiveConstructor Operator">,</a> <a id="5205" href="UF-KrausLemma.html#5205" class="Bound">P-is-prop</a> <a id="5215" href="Sigma-Type.html#202" class="InductiveConstructor Operator">,</a> <a id="5217" href="UF-KrausLemma.html#5217" class="Bound">g</a> <a id="5219" href="Sigma-Type.html#202" class="InductiveConstructor Operator">,</a> <a id="5221" href="UF-KrausLemma.html#5221" class="Bound">f</a><a id="5222" class="Symbol">)</a> <a id="5224" class="Symbol">=</a> <a id="5226" href="UF-KrausLemma.html#5221" class="Bound">f</a> <a id="5228" href="Pi.html#531" class="Function Operator">∘</a> <a id="5230" href="UF-PropTrunc.html#667" class="Field">∥∥-rec</a> <a id="5237" href="UF-KrausLemma.html#5205" class="Bound">P-is-prop</a> <a id="5247" href="UF-KrausLemma.html#5217" class="Bound">g</a>

<a id="5250" class="Markup">\end{code}</a><a id="5260" class="Background">

TODO: Are the above two functions mutually inverse and hence we get an
equivalence?

</a><a id="5347" class="Markup">\begin{code}</a>

 <a id="split-support-and-collapsibility.collapsible-gives-split-support"></a><a id="5362" href="UF-KrausLemma.html#5362" class="Function">collapsible-gives-split-support</a> <a id="5394" class="Symbol">:</a> <a id="5396" class="Symbol">{</a><a id="5397" href="UF-KrausLemma.html#5397" class="Bound">X</a> <a id="5399" class="Symbol">:</a> <a id="5401" href="Universes.html#274" class="Generalizable">𝓤</a> <a id="5403" href="Universes.html#417" class="Function Operator">̇</a> <a id="5405" class="Symbol">}</a>
                                 <a id="5440" class="Symbol">→</a> <a id="5442" href="UF-Subsingletons.html#3935" class="Function">collapsible</a> <a id="5454" href="UF-KrausLemma.html#5397" class="Bound">X</a>
                                 <a id="5489" class="Symbol">→</a> <a id="5491" href="UF-KrausLemma.html#4880" class="Function">has-split-support</a> <a id="5509" href="UF-KrausLemma.html#5397" class="Bound">X</a>
 <a id="5512" href="UF-KrausLemma.html#5362" class="Function">collapsible-gives-split-support</a> <a id="5544" class="Symbol">{</a><a id="5545" href="UF-KrausLemma.html#5545" class="Bound">𝓤</a><a id="5546" class="Symbol">}</a> <a id="5548" class="Symbol">{</a><a id="5549" href="UF-KrausLemma.html#5549" class="Bound">X</a><a id="5550" class="Symbol">}</a> <a id="5552" class="Symbol">(</a><a id="5553" href="UF-KrausLemma.html#5553" class="Bound">f</a> <a id="5555" href="Sigma-Type.html#202" class="InductiveConstructor Operator">,</a> <a id="5557" href="UF-KrausLemma.html#5557" class="Bound">κ</a><a id="5558" class="Symbol">)</a> <a id="5560" href="UF-KrausLemma.html#5560" class="Bound">s</a> <a id="5562" class="Symbol">=</a> <a id="5564" href="UF-KrausLemma.html#5644" class="Function">x</a>
  <a id="5568" class="Keyword">where</a>
   <a id="5577" href="UF-KrausLemma.html#5577" class="Function">g</a> <a id="5579" class="Symbol">:</a> <a id="5581" href="UF-PropTrunc.html#529" class="Field Operator">∥</a> <a id="5583" href="UF-KrausLemma.html#5549" class="Bound">X</a> <a id="5585" href="UF-PropTrunc.html#529" class="Field Operator">∥</a> <a id="5587" class="Symbol">→</a> <a id="5589" href="UF-KrausLemma.html#563" class="Function">fix</a> <a id="5593" href="UF-KrausLemma.html#5553" class="Bound">f</a>
   <a id="5598" href="UF-KrausLemma.html#5577" class="Function">g</a> <a id="5600" class="Symbol">=</a> <a id="5602" href="UF-PropTrunc.html#667" class="Field">∥∥-rec</a> <a id="5609" class="Symbol">(</a><a id="5610" href="UF-KrausLemma.html#1895" class="Function">fix-is-prop</a> <a id="5622" href="UF-KrausLemma.html#5553" class="Bound">f</a> <a id="5624" href="UF-KrausLemma.html#5557" class="Bound">κ</a><a id="5625" class="Symbol">)</a> <a id="5627" class="Symbol">(</a><a id="5628" href="UF-KrausLemma.html#3412" class="Function">to-fix</a> <a id="5635" href="UF-KrausLemma.html#5553" class="Bound">f</a> <a id="5637" href="UF-KrausLemma.html#5557" class="Bound">κ</a><a id="5638" class="Symbol">)</a>

   <a id="5644" href="UF-KrausLemma.html#5644" class="Function">x</a> <a id="5646" class="Symbol">:</a> <a id="5648" href="UF-KrausLemma.html#5549" class="Bound">X</a>
   <a id="5653" href="UF-KrausLemma.html#5644" class="Function">x</a> <a id="5655" class="Symbol">=</a> <a id="5657" href="UF-KrausLemma.html#3348" class="Function">from-fix</a> <a id="5666" href="UF-KrausLemma.html#5553" class="Bound">f</a> <a id="5668" class="Symbol">(</a><a id="5669" href="UF-KrausLemma.html#5577" class="Function">g</a> <a id="5671" href="UF-KrausLemma.html#5560" class="Bound">s</a><a id="5672" class="Symbol">)</a>

 <a id="split-support-and-collapsibility.split-support-gives-collapsible"></a><a id="5676" href="UF-KrausLemma.html#5676" class="Function">split-support-gives-collapsible</a> <a id="5708" class="Symbol">:</a> <a id="5710" class="Symbol">{</a><a id="5711" href="UF-KrausLemma.html#5711" class="Bound">X</a> <a id="5713" class="Symbol">:</a> <a id="5715" href="Universes.html#274" class="Generalizable">𝓤</a> <a id="5717" href="Universes.html#417" class="Function Operator">̇</a> <a id="5719" class="Symbol">}</a>
                                 <a id="5754" class="Symbol">→</a> <a id="5756" href="UF-KrausLemma.html#4880" class="Function">has-split-support</a> <a id="5774" href="UF-KrausLemma.html#5711" class="Bound">X</a>
                                 <a id="5809" class="Symbol">→</a> <a id="5811" href="UF-Subsingletons.html#3935" class="Function">collapsible</a> <a id="5823" href="UF-KrausLemma.html#5711" class="Bound">X</a>
 <a id="5826" href="UF-KrausLemma.html#5676" class="Function">split-support-gives-collapsible</a> <a id="5858" class="Symbol">{</a><a id="5859" href="UF-KrausLemma.html#5859" class="Bound">𝓤</a><a id="5860" class="Symbol">}</a> <a id="5862" class="Symbol">{</a><a id="5863" href="UF-KrausLemma.html#5863" class="Bound">X</a><a id="5864" class="Symbol">}</a> <a id="5866" href="UF-KrausLemma.html#5866" class="Bound">g</a> <a id="5868" class="Symbol">=</a> <a id="5870" href="UF-KrausLemma.html#5985" class="Function">γ</a>
  <a id="5874" class="Keyword">where</a>
   <a id="5883" href="UF-KrausLemma.html#5883" class="Function">f</a> <a id="5885" class="Symbol">:</a> <a id="5887" href="UF-KrausLemma.html#5863" class="Bound">X</a> <a id="5889" class="Symbol">→</a> <a id="5891" href="UF-KrausLemma.html#5863" class="Bound">X</a>
   <a id="5896" href="UF-KrausLemma.html#5883" class="Function">f</a> <a id="5898" href="UF-KrausLemma.html#5898" class="Bound">x</a> <a id="5900" class="Symbol">=</a> <a id="5902" href="UF-KrausLemma.html#5866" class="Bound">g</a> <a id="5904" href="UF-PropTrunc.html#621" class="Field Operator">∣</a> <a id="5906" href="UF-KrausLemma.html#5898" class="Bound">x</a> <a id="5908" href="UF-PropTrunc.html#621" class="Field Operator">∣</a>

   <a id="5914" href="UF-KrausLemma.html#5914" class="Function">κ</a> <a id="5916" class="Symbol">:</a> <a id="5918" class="Symbol">(</a><a id="5919" href="UF-KrausLemma.html#5919" class="Bound">x</a> <a id="5921" href="UF-KrausLemma.html#5921" class="Bound">y</a> <a id="5923" class="Symbol">:</a> <a id="5925" href="UF-KrausLemma.html#5863" class="Bound">X</a><a id="5926" class="Symbol">)</a> <a id="5928" class="Symbol">→</a> <a id="5930" href="UF-KrausLemma.html#5883" class="Function">f</a> <a id="5932" href="UF-KrausLemma.html#5919" class="Bound">x</a> <a id="5934" href="Identity-Type.html#135" class="Datatype Operator">≡</a> <a id="5936" href="UF-KrausLemma.html#5883" class="Function">f</a> <a id="5938" href="UF-KrausLemma.html#5921" class="Bound">y</a>
   <a id="5943" href="UF-KrausLemma.html#5914" class="Function">κ</a> <a id="5945" href="UF-KrausLemma.html#5945" class="Bound">x</a> <a id="5947" href="UF-KrausLemma.html#5947" class="Bound">y</a> <a id="5949" class="Symbol">=</a> <a id="5951" href="Id.html#1344" class="Function">ap</a> <a id="5954" href="UF-KrausLemma.html#5866" class="Bound">g</a> <a id="5956" class="Symbol">(</a><a id="5957" href="UF-PropTrunc.html#564" class="Field">∥∥-is-prop</a> <a id="5968" href="UF-PropTrunc.html#621" class="Field Operator">∣</a> <a id="5970" href="UF-KrausLemma.html#5945" class="Bound">x</a> <a id="5972" href="UF-PropTrunc.html#621" class="Field Operator">∣</a> <a id="5974" href="UF-PropTrunc.html#621" class="Field Operator">∣</a> <a id="5976" href="UF-KrausLemma.html#5947" class="Bound">y</a> <a id="5978" href="UF-PropTrunc.html#621" class="Field Operator">∣</a><a id="5979" class="Symbol">)</a>

   <a id="5985" href="UF-KrausLemma.html#5985" class="Function">γ</a> <a id="5987" class="Symbol">:</a> <a id="5989" href="UF-Subsingletons.html#3935" class="Function">collapsible</a> <a id="6001" href="UF-KrausLemma.html#5863" class="Bound">X</a>
   <a id="6006" href="UF-KrausLemma.html#5985" class="Function">γ</a> <a id="6008" class="Symbol">=</a> <a id="6010" href="UF-KrausLemma.html#5883" class="Function">f</a> <a id="6012" href="Sigma-Type.html#202" class="InductiveConstructor Operator">,</a> <a id="6014" href="UF-KrausLemma.html#5914" class="Function">κ</a>

<a id="6017" class="Markup">\end{code}</a><a id="6027" class="Background">
</a></pre></body></html>